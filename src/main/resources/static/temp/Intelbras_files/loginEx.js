function getUserName(){var a=$("username").value;return a}function beginKeepAlive(){alive(300,function(a){g_timerAlive=setInterval("alive(300)",200*a)})}function doLogout(){Global.instance().logout(!!Browser.Engine.trident),$clear(g_timerAlive),g_timerAlive=0,$.publish("logout")}function alive(a,b){null==Cookie.read("DhWebClientSessionID")&&location.replace("index.htm");var c=60,d=function(a,d){d&&d.result?(clearTimeout(timeout_timeID),timeout_timeID=0,c=d.params.timeout,void 0!=b&&b.call(this,c)):e()},e=function(){0===timeout_timeID&&(timeout_timeID=g_deviceSubType.contains("EVS7024DR")?setTimeout(timeoutFunc,1e3*(c+0)):setTimeout(timeoutFunc,1e3*(c+3600)))};Global.instance().keepAlive(a,!0,d,e)}function timeoutFunc(){alert(tl("com_msg.ConnectionOvertime")),location.replace("index.htm")}function getLangConf(){{var a="Portugal";new Request.JSON({async:!1,url:"/current_config/preLanguage"+(g_isRemoteLogin?"?"+remoteParams.ALL:""),onSuccess:function(b){null!=b&&(a=b.PreLanguage.replace(/.txt/g,""));var c="/custom_lang/"+a+".txt",d="/web_lang/"+a+".txt",e=g_langHashTr.get(a),f="/custom_lang/"+e+".txt",g="/web_lang/"+e+".txt",h="/strings/"+a+".txt";g_isRemoteLogin?getLangFileEx(h)||getLangFileEx(c)||getLangFileEx(d)||getLangFileEx(f)||getLangFileEx(g):getLangFileEx(c)||getLangFileEx(d)||getLangFileEx(f)||getLangFileEx(g)},onFailure:function(){var b="/strings/"+a+".txt";getLangFileEx(b)},onException:function(){}}).get()}return a}function getLangFile(a,b){new Request.JSON({async:!1,url:a,onSuccess:function(a){null!=a&&(Cookie.write("DHLangCookie30",path,{duration:0,path:"/"}),jsonLang=a,ret=!0)},onFailure:function(){getLangFileEx(b)},onException:function(){}}).get()}function getLangFileEx(a){{var b=!1;new Request.JSON({async:!1,url:a,onSuccess:function(c){Cookie.write("DHLangCookie30",a,{duration:0,path:"/"}),jsonLang=c,b=!0},onFailure:function(){},onException:function(){}}).get()}return b}function getWebCapsConfig(){new Request.JSON({async:!1,url:"/current_config/WebCapConfig",onSuccess:function(a){jsonWebCaps=a},onFailure:function(){jsonWebCaps={demand:" ",deviceType:"DVR",vendor:"Intelbras",multiPreview:0,maxChannelTitleLength:63,weakPasswordTip:!0,ATMPOSTimeRange:[],SupportNetServer:!1,chinese2Char:3,loginType:[0],maxFPS:0,eventsDetectUpload:!1,defaultEnable:!0,usernameLenTip:!0,encryptType:"",customScheduleColor:{motion:[255,255,0],motAndAlm:[255,255,0]},navBarEnable:!1,overlayColor:{colorSetting:!1,preOverlay:!0},dblSearchRCFile:!1,dblSearchRCFile:!1,previewChShowMenu:"over",customChanelSplit:0,downloadEnable:!0,diskErrorType:["nodisk","sterr","nospc","diskNo"],downDevLog:!1,checkUpgrade:!1,b_supportSoftVerson:!1,i_defSnapType:0,b_hideOnvifVersion:!1,SupportNetMulticast:!1,SupportNetAutoRegister:!1,SupportNetAlarmCenter:!1,b_hideImageprty:!1,b_hideRtspFormat:!0,b_hideUdpPort:!0,b_hideMDAlarm:!0,a_backupFormat:["DAV","ASF","AVI"],i_connectRange:[0,10,2],b_hideNetAlarmTab:!0,s_dateFormat:"dd:mm:yyyy",SupportNetPPPoE:!1,SupportWifiPage:!1,b_hideLanDownload:!0,b_hideCardType:!0,b_hideOnvifServerVersion:!0,b_resoltNotNeedReboot:!0,b_hideChanlQuota:!0,b_hideHueSet:!0,SupportEditRemote:!0,b_hideFtp:!0,b_hidePlayBackSix:!0,b_hideSnapRecord:!0,ExtraRecord:!1,b_hidePlayBackSix:!1,n_perRecord:!1,b_supportSNMPV3:!1,n_maxChar:!1}},onException:function(){}}).get();return jsonWebCaps}var g_autoPassword="",g_timerAlive=0,g_isRemoteLogin=!1,timeout_timeID=0,g_langHashTr=new Hash({English:"StringsEn",SimpChinese:"StringsCn",TradChinese:"StringsCnT",Italian:"StringsIt",Spanish:"StringsSp",Japanese:"StringsJp",Russian:"StringsRu",French:"StringsFr",German:"StringsDe",Portugal:"StringsPt",Turkey:"StringsTr",Poland:"StringsPl",Romanian:"StringsRo",Hungarian:"StringsHung",Finnish:"StringsFi",Estonian:"StringsEs",Korean:"StringsKor",Farsi:"StringsFas",Dansk:"StringsDan",Czechish:"StringsCz",Bulgaria:"StringsBul",Slovakian:"StringsSk",slovenia:"StringsSn",Croatian:"StringsEn",Dutch:"StringsEn",Greek:"StringsEn",Ukrainian:"StringsEn",Swedish:"StringsEn",Serbian:"StringsEn",Vietnamese:"StringsEn",Lithuanian:"StringsEn",Filipino:"StringsEn",Arabic:"StringsEn",Catalan:"StringsEn",Latvian:"StringsEn",StringsCn:"SimpChinese",StringsEn:"English"}),DefaultLang="SimpChinese",jsonWebCaps={};getWebCapsConfig();