function loadHtmlFile(a,b,c){var d=new Request.HTML({url:a,onSuccess:function(a,c,d){b(d)},onFailure:function(){c()}});d.get()}function jsonCompare(a,b){if("object"==$type(a)&&"object"==$type(b)||"array"==$type(a)&&"array"==$type(b)){for(var c in a)if(!jsonCompare(a[c],b[c])&&($chk(a[c])||$chk(b[c])))return!1;return!0}return a==b}function limit(a,b){"string"==$type(a)&&(a=$(a));var c=a.value;""!=c&&(a.value=/[^\d]/g.test(c)?c.replace(/[^\d]/g,"")-0:a.value-0,c=a.value,c>b&&(a.value=b))}function limitMin(a,b){var c=a.value;/[^\d]/g.test(c)&&(a.value=c.replace(/[^\d]/g,"")-0),c=a.value,""==c?a.value=b:b>c&&(a.value=b)}function limitTime(a,b){var c=a.value;if(c=c.replace(/[^\d]/g,""),c-0>b&&(a.value=b),c=a.value,c.length>=2&&""!=a.id){var d=$(a.id).getNext("input");d&&d.select()}}function getTable(a){return JSON.decode(a).result?JSON.decode(a).params.table:""}function hideSelectBoxes(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="hidden"}function displaySelectBoxes(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="visible"}function getSelect(a){return-1!=$(a).selectedIndex?$(a).options[$(a).selectedIndex].text:void 0}function parsrTime(a){var b;if(a){var c=a.trim().split(" "),d=c[1].split("-"),a=d[0].split(":"),e=d[1].split(":");b=[c[0],a[0],a[1],e[0],e[1]]}else b=[0,0,0,24,0];return b}function parsrTimeEx(a){var b;if(a){var c=a.trim().split(" "),d=c[1].split("-"),a=d[0].split(":"),e=d[1].split(":");b=[c[0]-0,a[0]-0,a[1]-0,a[2]-0,e[0]-0,e[1]-0,e[2]-0]}else b=[0,0,0,0,24,0,0];return b}function getBit(a,b){var c=a-0&1<<b;return c>>=b}function getBitEx(a,b){var c=a-0,d=c.toString(2),e=d.length,f=d.charAt(e-b-1);return"1"==f?1:0}function getBitStr(a,b){var c=a.length,d=a.charAt(c-b-1);return"1"==d?1:0}function setBit(a,b,c){var d=a-0;return 1==c?d|=1<<b:d&=~(1<<b),d}function setBitEx(a,b,c){var d=a-0,e=d.toString(2),f=e.length,g=0;return f-b-1>=0&&(g=e.charAt(f-b-1)),g-0==c?a:a+(c-g)*Math.pow(2,b)}function pasteChk(){clipboardData.setData("text",clipboardData.getData("text").replace(/[^\d]/g,""))}function chkTime(a,b,c,d){d=d||event;var e,f=c.toString().length,g=$(a+b);g.value=g.value.replace(/[^\d]/g,"");var h=d.keyCode;if(37==h||39==h||9==h){if(g.blur(),37==h&&(e=b-1),39==h&&(e=b+1),9==h){if($(a+(b-1))){var i=$(a+(b-1)).value-0;10>i&&($(a+(b-1)).value="0"+i),$(a+b).select()}else $(a+b).select();return}if(e>2||0>e)return;var i=g.value-0;return 10>i&&(g.value="0"+i),void $(a+e).select()}if(g.value.length>=f)if(parseInt(g.value)>c){if(g.value=c,e=b+1,e>2||0>e)return;$(a+e).select()}else if(parseInt(g.value)<0)g.value="00";else{if(g.blur(),e=b+1,e>2||0>e)return;var i=g.value-0;10>i&&(g.value="0"+i),$(a+e).select()}}function getMonthDay(a){var b=$(a+0).value-0,c=$(a+1).value-0,d=function(a){return a%4!=0||a%100==0&&a%400!=0?!1:!0};return 4==c||6==c||9==c||11==c?30:2==c&&d(b)?29:2!=c||d(b)?31:28}function checkDay(a){$(a+0).value-0<2e3&&($(a+0).value=2e3);var b=$(a+1).value-0;1>b?$(a+1).value="01":10>b?$(a+1).value="0"+b:b>12&&($(a+1).value=12);var c=$(a+2).value-0,d=getMonthDay(a);if(0>=c)$(a+2).value="01";else if(10>c)$(a+2).value="0"+c;else{if(!(c>d))return;$(a+2).value=d}}function round1(a,b){var c=a%b;return b/2>c?a-c:a+b-c}function getReference(a,b,c){var d,e,f=b>149?50:b,g=a,h=getWidthH(c).split("*"),i=h[0]-0,j=h[1]-0,k=(f+3-1)*g*7,l=f;return d=k/l*i*j/101376,d>=4&&(d=round1(d,(1<<Math.log(d)/Math.log(2))/4)),k=(f+3-1)*g*40,l=f,e=k/l*i*j/101376,e>=4&&(e=round1(e,(1<<Math.log(e)/Math.log(2))/4)),e>8192&&(e=8192),[Math.round(d),Math.round(e)]}function checkTime0(a){var b;return b=10>a-0?"0"+(a-0):""+a}function getSuggestBRIndex(a,b){var c=[32,48,64,80,96,128,160,192,224,256,320,384,448,512,640,768,896,1024,1280,1536,1792,2048],d=(a+b)/2,e=0;for(e=0;e<c.length;e++)if(c[e]>=d)return c[e];return 2048}var Dialog=new Class({Implements:[Events,Options],options:{onClose:$empty()},initialize:function(a,b,c,d,e,f){this.obj=$(a),this.okButton=$(void 0==c?"d_confirm":c),this.closeButtion=$(void 0==d?"d_close":d),this.isIE=-1!=navigator.userAgent.toLowerCase().indexOf("msie"),this.isIE6=-1!=navigator.userAgent.toLowerCase().indexOf("msie 6.0");var g=document.documentElement.clientWidth,h=document.documentElement.clientHeight;this.Width=this.obj.offsetWidth,this.Height=this.obj.offsetHeight,this.Left=((g-this.Width)/2-80>0?(g-this.Width)/2-80:150).round(),this.Top=((h-this.Height)/2-40>0?(h-this.Height)/2-40:70).round(),this.container=void 0==f?$("cmaincont")||$("cmaincontEx")||document.body:f;var j={width:"100%",height:"100%",filter:"alpha(Opacity=1)","-moz-opacity":"0.01",opacity:"0.01","background-color":"transparent",top:"-10000px",left:"0",position:"absolute"};this.cover=document.createElement("div"),$(this.cover).setStyles(j);var k=this.cover,f=this.container,l=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="hidden";var b=this.obj.getElementsByTagName("SELECT");for(i=0;b&&i<b.length;i++)b[i].style.visibility="visible"};this.hideSelectBoxes=l;var m=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="visible"};this.displaySelectBoxes=m;var n=this.obj.getElement("p[class=exit]")||this.obj.getElement("a[class=ui-dialog-icon]");if(this.closeIcon=n,n){var o=this.isIE6;n.addEvent("click",function(){o&&m(),null!=this.obj&&(this.obj.style.top="-10000px"),f.hasChild(k)?f.removeChild(k):k.style.top="-10000px",this.fireEvent("close")}.bind(this))}var p=this.obj.getElement("p[class=titleH]")||this.obj.getElement("h1");if(p&&p.setProperty("text",e),this.okButton&&b&&this.okButton.addEvent("click",b),this.closeButtion){var o=this.isIE6;this.closeButtion.addEvent("click",function(){o&&m(),null!=this.obj&&(this.obj.style.top="-10000px"),f.hasChild(k)?f.removeChild(k):k.style.top="-10000px",this.fireEvent("close")}.bind(this))}},setDialogOpt:function(a){this.setOptions(a)},setPosition:function(a,b){this.Left=a,this.Top=b,this.isIE6&&(this.Left=a-20,this.Top=b-130)},setTitle:function(a){var b=this.obj.getElement("p[class=titleH]")||this.obj.getElement("h1");return b&&b.setProperty("text",a),this},show:function(){this.isIE6&&this.hideSelectBoxes(),this.obj.style.top=this.Top+"px",this.Left&&(this.obj.style.left=this.Left+"px");var a=this.obj.getElement("div[class=Box0]")||this.obj.getElement("div[class=Box1]")||this.obj.getElement("div[class=Box2]");return a&&a.setStyle("display","none"),this.container.appendChild(this.cover),this.cover.style.top="0px",this},close:function(){return this.hide(),this.fireEvent("close"),this},hide:function(){return this.isIE6&&displaySelectBoxes(),this.obj.style.top="-10000px",this.cover&&(this.cover.style.top="-10000px"),this},reBind:function(a){return"function"==typeof a&&this.okButton.removeEvents().addEvent("click",a),this}}),IntellentModule=new Class({initialize:function(){new Asset.css("/css/Intellent.css"),new Asset.javascript("/js/ui-schedule.js")},inject:function(a,b,c,d){void 0==d&&(d="after");var e=new Element("li",{id:"m_ipcIntellentNew"}),f="";f=1==a?'<a id="" href="javascript:;" class="set-item" onclick="gethtml(\'ipcIntellentNewConfig\')">                        <span class="set-item-icon"></span>                        <label id="l_ipcIntellentNew" class="set-menu-label">'+b+"</label>					</a>":'<a id="_viddet" href="javascript:;" data-filename="ipcIntellentNewConfig" class="J_set_item">'+b+"</a>",e.innerHTML=f,e.inject(c,d)}});Array.implement({sortAsc:function(){return this.sort(function(a,b){return a-b})},sortDesc:function(){return this.sort(function(a,b){return b-a})}}),function(a){void 0==parent.$.topics?(a.topics={},a.subscribe=function(b,c,d){this.topics[b]||(this.topics[b]={queue:[]});var e=this.topics[b].queue.push([c,d])-1;return function(b,c){return{unSubscribe:function(){a.topics[b].queue.splice(c,1),0==a.topics[b].queue.length&&delete a.topics[b]}}}(b,e)},a.publish=function(a){var b=Array.prototype.slice.call(arguments).slice(1);if(this.topics[a]&&this.topics[a].queue.length){var c=this.topics[a].queue;c.forEach(function(a){try{"function"===$type(a[0])&&a[0].apply(this,b)}catch(c){}})}}):(a.topics=parent.$.topics,a.subscribe=parent.$.subscribe,a.publish=parent.$.publish)}($),Date.implement({addMonths:function(a){var b=this.getDate();return this.setMonth(this.getMonth()+a),this.getDate()<b&&this.setDate(0),this}});var devNotify={comet:!1,topics:{},initComet:function(){var a=Browser,b=rpcCore.sessionID;if(0==this.comet){var c="/SubscribeNotify.cgi?sessionId="+b;if(this.sessionID=b,a.ie&&a.version<9){var d={};d.connection=new ActiveXObject("htmlfile"),d.connection.open(),d.connection.write("<html>"),d.connection.write("<body>12345</body>"),d.connection.write("</html>"),d.connection.close(),d.iframediv=d.connection.createElement("div"),d.connection.appendChild(d.iframediv),d.connection.parentWindow.comet=d,d.iframediv.innerHTML="<iframe name='comet_iframe_new' src='"+c+"'></iframe>",d.connection.parentWindow.receiveMessage=this.publish.bind(this),this.iframe=d.connection.getElementsByTagName("iframe")[0]}else{var e=document.createElement("iframe");e.setAttribute("id","comet_iframe_new"),e.setAttribute("src",c),e.style.display="none",document.body.appendChild(e),this.iframe=e,window.receiveMessage=this.publish.bind(this)}this.comet=!0}else"ie"!=a.name&&(window.receiveMessage=this.publish.bind(this))},subscribe:function(a,b){this.initComet(),this.sessionID!=rpcCore.sessionID&&this.reconnect(),this.topics[a]=b},publish:function(a){var b=a.method;if(this.topics[b])try{this.topics[b](a.params)}catch(c){}},detach:function(a){delete this.topics[a]},unSubscribe:function(){this.iframe&&this.iframe.src&&(this.iframe.src="")},reconnect:function(){this.iframe.src="/SubscribeNotify.cgi?sessionId="+rpcCore.sessionID,this.sessionID=rpcCore.sessionID}};