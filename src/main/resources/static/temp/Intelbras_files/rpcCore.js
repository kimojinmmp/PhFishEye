function sendRequest(a,b,c,d,e){void 0==d&&(d="/RPC2"),void 0==c&&(c=!0),void 0==b&&(b=function(){}),void 0==e&&(e=function(){});try{{new Request({url:d,async:c,headers:{"X-Request":"JSON"},onSuccess:function(a){b(a,JSON.decode(a))},onFailure:function(){e(arguments)}}).send(a)}}catch(f){}}function getTable(a){return JSON.decode(a).result?JSON.decode(a).params.table:""}function getConfigCaps(a,b){var c=new RPCCall,d=c.getRequest("encode.getConfigCaps",'{"config" : '+a+"}");this.sendRequest(d,b)}function getJsonReq(a){var b='{"method":"configManager.getConfig","params":{"name":"'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id":'+ID_REQUEST++ +"}";return b}function getPostJson(a,b){var c='{"method":"configManager.setConfig","params":{"name":"'+a+'","table":'+JSON.encode(b)+',"options":""},"session":'+Cookie.read("DhWebClientSessionID")+',"id":'+ID_REQUEST++ +"}";return c}function getJsonDef(a){var b='{"method":"configManager.getDefault","params":{"name":"'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id":'+ID_REQUEST++ +"}";return b}function getJsonPrd(a){var b='{"method" : "magicBox.getProductDefinition","params" : {"name" : "'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return b}function getJsonPtz(){var a='{"method":"ptz.getProtocolList","params":null,"session":'+Cookie.read("DhWebClientSessionID")+',"id":'+ID_REQUEST++ +"}";return a}function getDevName(){var a='{"method" : "devStorage.getAllNames","params" : null,"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return a}function getDevInfo(a){var b='{"method" : "devStorage.getDeviceInfo","params" : {"pointer" : '+a+'},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return b}function doFormat(a,b){var c='{"method" : "devStorage.formatPatition","params" : {"pointer" : '+a+',"part" : '+b+'},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return c}function getAllPath(a){var b='{"method" : "workDirectory.getAllPaths","params" : {"position" : "'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return b}function getGPath(a){var b='{"method" : "storage.getGroupPaths","params":{"group":"'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return b}function getEMask(a){var b='{"method" : "eventManager.getEventMask","params" : {"code" : "'+a+'"},"session":'+Cookie.read("DhWebClientSessionID")+',"id" : '+ID_REQUEST++ +"}";return b}function getRecordPaths(a,b){var c=new RPCCall,d=c.getRequest("workDirectory.getAllPaths",'{ "position" : "'+a+'"}');this.sendRequest(d,b)}function getFileSign(a,b,c,d,e,f){var g=new RPCCall,h='{ "Channel" :'+a+', "StartTime" : "'+b+' 00:00:00", "EndTime" : "'+b+' 23:59:59", "Dirs" : '+c+', "Types" : '+d+', "Events" : '+e+"}",i=g.getRequest("mediaFileFind.findFile",'{ "condition" : '+h+"}");this.sendRequest(i,f)}function findFile(a,b,c){if(-1!=a){var d=new RPCCall,e=d.getRequest("mediaFileFind.findNextFiles",'{ "this" : "'+a+'", "count" :'+b+"}");this.sendRequest(e,c)}}function closeFindFile(a,b){var c=new RPCCall,d=c.getRequest("mediaFileFind.close",'{ "this" : "'+a+'"}');this.sendRequest(d,b)}function getAuthByType(a,b,c,d,e,f){switch(d){case"Basic":return Base64.encode(a+":"+b);case"OldDigest":return superEncipherment(b);case"Default":if(c)return hex_md5(a+":"+e+":"+b);var g=hex_md5(a+":"+e+":"+b);return hex_md5(a+":"+f+":"+g);default:return b}}function superEncipherment(a){for(var b="",c=[],d=hex_md5(a),e=[],f=0;16>f&&f<d.length/2;f++)e[f]=parseInt(d.slice(2*f,2*f+2),16);for(var f=0;7>=f;f++)c[f]=(e[2*f]+e[2*f+1])%62,c[f]+=c[f]>=0&&c[f]<=9?48:c[f]>=10&&c[f]<=35?55:61,b+=String.fromCharCode(c[f]);return b}Class.prototype.instance=function(){return this.o=this.o||new this,this.o};var ID_REQUEST=1,rpcCore={sessionID:0},secureConfigNames=["NAS","CommServer","PPPoE","DDNS","AlarmServer","Email","WLan","AccessPoint","Wireless","SIP","Router","SNMP","LDAP","Wire802_1X","VPN","CloudServer","DeviceIpList","RemoteDevice","Mobile","GUISet","AnalogMatrix","VideoInputGroup","ITCinfo","Registar","VSP_GAYS"],secureMethods={"configManager.getConfig":"Security.getConfig","configManager.setConfig":"Security.setConfig","userManager.addUser":"Security.addUser","userManager.modifyPassword":"Security.modifyPassword"},Maps=new Class({value:[],key:[],include:function(a,b){a=this._keyString(a);var c=this.key.indexOf(a);-1==c&&(c=this.key.push(a)-1),this.value[c]=b},erase:function(a){var b=this.key.indexOf(this._keyString(a));return b>=0&&(this.key.splice(b,1),this.value.splice(b,1)),b},clear:function(){this.value.length=0,this.key.length=0},getValue:function(a){return this.value[this.indexKey(a)]},haskey:function(a){return this.indexKey(a)>=0},indexKey:function(a){return a=this._keyString(a),this.key.indexOf(a)},_keyString:function(a){return a.toString()}}),AsynChain=new Class({Implements:[Chain],doneBack:null,addChain:function(a,b){return this._startChain=!0,this._start(),this.chain(a.pass(b,this)),this.callChain(),this},next:function(a,b){return this.chain(a.pass(b,this)),this},done:function(a,b){return this.doneBack=a,this.doneArgs=b,this},_callChain:function(){this.callChain()===!1&&this._startChain&&(this._startChain=!1,"function"==typeof this.doneBack&&this.doneBack.apply(this,$splat(this.doneArgs)))},_start:function(){this.clearChain(),this.doneBack=null,this.doneArgs=null}}),RPCCall=new Class({Implements:[Maps,AsynChain],req:[],initialize:function(a){if(this.req=[],void 0==a)if(0==rpcCore.sessionID){var b=Cookie.read("DhWebClientSessionID");b?(this.sessionID=b,rpcCore.sessionID=b):this.sessionID=0}else this.sessionID=rpcCore.sessionID;else this.sessionID=a},getObjectID:function(a,b,c,d){var e=this.getValue(a);null==e?"function"==typeof this.instance&&this.instance.apply(this,a.concat(function(c,d){e=d.result,e&&(this.pubSub||(this.pubSub=$.subscribe("restart",this.clearObject.bind(this))),this.include(a,e)),b.call(this,e)},c,d)):b.call(this,e)},setSessionID:function(a){this.sessionID=a,rpcCore.sessionID=a},getSessionID:function(){return rpcCore.sessionID||parent.rpcCore.sessionID},getRequest:function(a,b,c){void 0==b&&(b=null),this.sessionID!=rpcCore.sessionID&&(this.sessionID=rpcCore.sessionID);var d="";return d=void 0==c?'{"method":"'+a+'","params":'+b+',"session":'+this.sessionID+',"id":'+ID_REQUEST++ +"}":'{"object":'+c+',"method":"'+a+'","params":'+b+',"session":'+this.sessionID+',"id":'+ID_REQUEST++ +"}"},getRequestEx:function(a,b,c,d){void 0==b&&(b=null),parent.rpcCore&&this.sessionID!=parent.rpcCore.sessionID&&(this.sessionID=parent.rpcCore.sessionID);var e="";return e=void 0==d?'{"method":"'+a+'","params":'+b+',"session":'+this.sessionID+',"id":'+ID_REQUEST++ +',"target":"'+c+'"}':'{"object":'+d+',"method":"'+a+'","params":'+b+',"session":'+this.sessionID+',"id":'+ID_REQUEST++ +',"target":"'+c+'"}'},_requestString:function(a,b,c,d){parent.rpcCore&&this.sessionID!=parent.rpcCore.sessionID&&(this.sessionID=parent.rpcCore.sessionID);var e={method:a,params:b||"",session:this.sessionID-0,id:ID_REQUEST++};if(void 0!=d)for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);return void 0!=c&&(e.object=c),JSON.encode(e)},doMutiCall:function(a,b,c){if(0!==a.length){var d;if(top.Ability.encryptInfo.pub){var e=JSON.decode("["+a+"]"),f=[];return e.each(function(a,b){var c=secureMethods[a.method];if(c){var d=["configManager.getConfig","configManager.setConfig"].contains(a.method);if(!d||-1!=secureConfigNames.indexOf(a.params.name)){a.method=c;var e=Encrypt.EncryptInfo(top.Ability.encryptInfo.pub,a.params);a.params={salt:e.salt,cipher:"AES-128",content:e.content},f.push({index:b,key:e.key})}}}),d=this.getRequest("system.multicall",JSON.encode(e)),void this.sendRequest(d,function(a,c){f.each(function(a){var b=c.params[a.index];b.result&&b.params.content&&(b.params=Encrypt.UnEncryptInfo(a.key,b.params.content))}),b&&b(JSON.encode(c),c)}.bind(this),c)}d=this.getRequest("system.multicall","["+a+"]"),this.sendRequest(d,b,c)}},sendRequest:function(a,b,c,d,e){void 0==d&&(d="/RPC2"),void 0==c&&(c=!0),void 0==b&&(b=function(){}),void 0==e&&(e=function(){});var f=this;try{this.newReq({url:d,async:c,headers:{"X-Request":"JSON"},onSuccess:function(a){b.bind(f)(a,JSON.decode(a)),f._callChain()},onFailure:function(){e(),f._callChain()}}).send(a)}catch(g){}},action:function(a,b,c,d,e,f){this.actionWithTarget(a,b,c,null,d,e,f)},actionWithTarget:function(a,b,c,d,e,f,g){var h="";null!=a&&"function"==typeof this.instance?this.getObjectID(a,function(a){if(a)"array"!=$type(c)?(h=this._requestString(b,c,a,d),this.sendRequest(h,e,f,void 0,g)):this._actionMuticall(a,b,c,d,e,f,g);else{var i={params:{message:"instance failed"},result:!1};e&&e.call(this,JSON.encode(i),i)}},f,g):"array"!=$type(c)?(h=this._requestString(b,c,null,d),this.sendRequest(h,e,f,void 0,g)):this._actionMuticall(null,b,c,d,e,f,g)},_actionMuticall:function(a,b,c,d,e,f){var g=[];"string"===$type(b)&&(b=[b]);for(var h=0;h<c.length;h++){var i=b[h]||b[0];g.push(this._requestString(i,c[h],a,d))}this.doMutiCall(g.join(","),e,f)},getReq:function(){for(var a=0;a<this.req.length;a++)try{if(!this.req[a].running&&this.req[a].xhr.onreadystatechange==$empty)return this.req[a].removeEvents().xhr.abort(),this.req[a]}catch(b){return this.req[this.req.push(new Request)-1]}return this.req[this.req.push(new Request)-1]},newReq:function(a){return this.getReq().setOptions(a)},cancel:function(){this.req.each(function(a){a.cancel()})},clearObject:function(){this.clear()}}),System=new Class({Extends:RPCCall,getListService:function(a,b){var c=this.getRequest("system.listService");sendRequest(c,a,b)}}),Global=new Class({Extends:RPCCall,encryption:"",encryptionforManage:{encryption:"OldDigest",realm:"Login to "},getCurrentTime:function(a,b){var c=this.getRequest("global.getCurrentTime");this.sendRequest(c,a,b)},setCurrentTime:function(a,b,c,d){var e={time:a,tolerance:b},f=this.getRequest("global.setCurrentTime",JSON.encode(e));this.sendRequest(f,c,d)},logout:function(a){this.action(null,"global.logout",null,void 0,a)},keepAlive:function(a,b,c,d){this.action(null,"global.keepAlive",{timeout:a||300},c,b,d)},getAuth:function(a,b){return getAuthByType(a,b,!1,this.encryption,this.realm,this.random)},getManagePassword:function(a,b,c){var d=a,e=parent.jsonWebCaps.encryptType;""!=e&&void 0!=e&&(d=window[e](d));var f=this.encryptionforManage.encryption;if(c){var g=getAuthByType(d,b,!0,"Default",this.encryptionforManage.realm),h=getAuthByType(d,b,!0,"OldDigest",this.encryptionforManage.realm);return g+h}return getAuthByType(d,b,!0,f,this.encryptionforManage.realm)},getManageEncryption:function(){return this.encryptionforManage},login:function(a,b,c,d,e){var f="Dahua3.0-Web3.0",g=this;e=e||$empty,this.firstLogin(a,{clientType:f},function(d){if(this.encryption=d.params.encryption,this.random=d.params.random||"",this.realm=d.params.realm||"",d&&d.error&&268632079===d.error.code){var h=this.getAuth(a,b);this.secondLogin(a,h,{clientType:f,authorityType:d.params.encryption},function(a){rpcCore.sessionID=Cookie.read("DhWebClientSessionID"),a.result?(MagicBox.instance().getProductDef("Encryption",function(a,b){b.result&&(g.encryptionforManage.encryption=b.params.definition)}),MagicBox.instance().getSerialNo(function(a,b){b.result&&(g.encryptionforManage.realm="Login to "+b.params.sn)}),c(a)):e(a)})}})},firstLogin:function(a,b,c){var d='{"method":"global.login","params":{"userName":"'+a+'","password":"","clientType":"'+b.clientType+'"},"id":'+ID_REQUEST++ +"}";this.sendRequest(d,function(a,b){this.setSessionID(b.session),c.call(this,b)},!0,"/RPC2_Login")},secondLogin:function(a,b,c,d){var e='{"method":"global.login","session":'+this.getSessionID()+',"params":{"userName":"'+a+'","password":"'+b+'","clientType":"'+c.clientType+'", "authorityType":"'+c.authorityType+'", "passwordType":"'+c.authorityType+'"},"id":'+ID_REQUEST++ +"}";this.sendRequest(e,function(b,c){c.result&&(Cookie.write("DhWebClientSessionID",this.getSessionID(),{path:"/"}),Cookie.write("username",a,{path:"/"})),d.call(this,c)},!0,"/RPC2_Login")}}),ConfigManager=new Class({Extends:RPCCall,instance:function(a,b,c){var d;d=this._requestString("configManager.factory.instance",null),this.sendRequest(d,a,b,void 0,c)},deleteFile:function(a,b){this.action([],"configManager.deleteFile",null,a,b)},getConfig:function(a,b,c,d){void 0==c&&(c=!0),void 0==d&&(d=!1),b=b||$empty;var e;if("array"==$type(a)){e=this.getRequest("configManager.getConfig",'{"name":"'+a[0]+'","onlyLocal":'+d+"}");for(var f=1;f<a.length;f++)e+=", "+this.getRequest("configManager.getConfig",'{"name":"'+a[f]+'","onlyLocal":'+d+"}");this.doMutiCall(e,b,c)}else{var g={name:a,onlyLocal:d},h=JSON.encode(g);if(top.Ability.encryptInfo.pub&&-1!=secureConfigNames.indexOf(a)){var i=EncryptSecurity.instance();return void i.getConfig(g,b.bind(this),c)}e=this.getRequest("configManager.getConfig",h),this.sendRequest(e,b,c)}},getConfigEx:function(a,b,c,d,e){void 0==d&&(d=!0),void 0==e&&(e=!1);var f;if("array"==$type(b)){f=this.getRequest("configManager.getConfig",'{"channel": '+b[0]+',"name":"'+a+'","onlyLocal":'+e+"}");for(var g=1;g<b.length;g++)f+=", "+this.getRequest("configManager.getConfig",'{"channel": '+b[g]+',"name":"'+a+'","onlyLocal":'+e+"}");this.doMutiCall(f,c,d)}else f=this.getRequest("configManager.getConfig",'{"channel": '+b+',"name":"'+a+'","onlyLocal":'+e+"}"),this.sendRequest(f,c,d)},setConfig:function(a,b,c,d,e){void 0==d&&(d=!0),void 0==e&&(e=!1),c=c||$empty;var f;if("array"==$type(a)){f=this.getRequest("configManager.setConfig",'{"name":"'+a[0]+'","onlyLocal":'+e+',"table":'+JSON.encode(b[0])+',"options":""}');for(var g=1;g<a.length;g++)f+=", "+this.getRequest("configManager.setConfig",'{"name":"'+a[g]+'","onlyLocal":'+e+',"table":'+JSON.encode(b[g])+',"options":""}');this.doMutiCall(f,c,d)}else{var h={name:a,onlyLocal:e,table:b,options:""},i=JSON.encode(h);if(top.Ability.encryptInfo.pub&&-1!=secureConfigNames.indexOf(a)){var j=EncryptSecurity.instance();return void j.setConfig(h,c.bind(this),d)}f=this.getRequest("configManager.setConfig",i),this.sendRequest(f,c,d)}},setConfigEx:function(a,b,c,d,e){void 0==e&&(e=!0);var f;if("array"==$type(a)){f=this.getRequest("configManager.setConfig",'{"name":"'+a[0]+'",'+JSON.encode(c[0])+',"options":""}');for(var g=1;g<a.length;g++)f+=", "+this.getRequest("configManager.setConfig",'{"name":"'+a[g]+'",'+JSON.encode(c[g])+',"options":""}');this.doMutiCall(f,d,e)}else f=this.getRequest("configManager.setConfig",'{"name":"'+a+'","channel":'+b+',"table":'+JSON.encode(c)+',"options":""}'),this.sendRequest(f,d,e)},setConfigMulch:function(a,b,c,d,e,f){void 0==e&&(e=!0),void 0==f&&(f=!1);var g;if("array"==$type(b)){var h=a+"["+b[0]+"]";g=this.getRequest("configManager.setConfig",'{"name":"'+h+'","onlyLocal":'+f+',"table":'+JSON.encode(c[b[0]])+',"options":""}');for(var i=1;i<b.length;i++)h=a+"["+b[i]+"]",g+=", "+this.getRequest("configManager.setConfig",'{"name":"'+h+'","onlyLocal":'+f+',"table":'+JSON.encode(c[b[i]])+',"options":""}');this.doMutiCall(g,d,e)}else{var h=a+"["+b+"]";g=this.getRequest("configManager.setConfig",'{"name":"'+h+'","onlyLocal":'+f+',"table":'+JSON.encode(c)+',"options":""}'),this.sendRequest(g,d,e)}},setChannelConfig:function(a,b,c,d,e){this.action([],"configManager.setChannelConfig",{name:a,table:c,channels:b,options:""},d,e)},getDefault:function(a,b,c){void 0==c&&(c=!0);var d;if("array"==$type(a)){d=this.getRequest("configManager.getDefault",'{"name":"'+a[0]+'"}');for(var e=1;e<a.length;e++)d+=", "+this.getRequest("configManager.getDefault",'{"name":"'+a[e]+'"}');this.doMutiCall(d,b,c)}else d=this.getRequest("configManager.getDefault",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getDefaultEx:function(a,b,c,d){void 0==d&&(d=!0);var e;if("array"==$type(b)){e=this.getRequest("configManager.getDefault",'{"channel": '+b[0]+',"name":"'+a+'"}');for(var f=1;f<b.length;f++)e+=", "+this.getRequest("configManager.getDefault",'{"channel": '+b[f]+',"name":"'+a+'"}');this.doMutiCall(e,c,d)}else e=this.getRequest("configManager.getDefault",'{"channel": '+b+',"name":"'+a+'"}'),this.sendRequest(e,c,d)},restore:function(a,b,c){void 0==c&&(c=!0);var d;d="array"==$type(a)?this.getRequest("configManager.restore",'{"names":'+JSON.encode(a)+"}"):this.getRequest("configManager.restore",'{"names":["'+a+'"]}'),this.sendRequest(d,b,c)},restoreExcept:function(a,b,c){void 0==c&&(c=!0);var d;d="array"==$type(a)?this.getRequest("configManager.restoreExcept",'{"names":'+JSON.encode(a)+"}"):this.getRequest("configManager.restoreExcept",'{"names":["'+a+'"]}'),this.sendRequest(d,b,c)},copyConfig:function(a,b,c,d,e,f){void 0==e&&(e=!0),void 0==f&&(f=!1);var g;g=this.getRequest("configManager.copyConfig",'{"channel":'+a+',"name":'+JSON.encode(b)+',"destinations":'+JSON.encode(c)+"}"),this.sendRequest(g,d,e)},getVideoAnalyseConfig:function(a,b,c,d,e,f){void 0==d&&(d=!0),void 0==e&&(e=!1),void 0==f&&(f=!1);var g;g=this.getRequest("configManager.getVideoAnalyseConfig",'{"config":{"channel":'+b+',"name":"'+a+'","IsDefault":'+f+"}}"),this.sendRequest(g,c,d)},setVideoAnalyseConfig:function(a,b,c,d,e,f){void 0==e&&(e=!0),void 0==f&&(f=!1);var g;g=this.getRequest("configManager.setVideoAnalyseConfig",'{"config":{"channel":'+b+',"name":"'+a+'", "table":'+JSON.encode(c)+"}}"),this.sendRequest(g,d,e)},getMemberNames:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("configManager.getMemberNames",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getFailureDetail:function(a,b,c,d){this.action([],"configManager.getFailureDetail",{name:a+"["+b+"]"},c,d)},supportHoliday:function(a){this.getConfig("Holiday",function(b,c){var d=!1,e=c.params.table;if($chk(e)&&e.length>0)for(var f=0;f<e.length;)e[f++].Enable&&(d=!0);a.call(this,d)})},setDefaultNAS:function(a,b){this.setDefaultByName("NAS",a,"Protocol",b)},setConfigNAS:function(a,b,c){this.setConfigByName("NAS",a,b,"Protocol",c)},setDefaultByName:function(a,b,c,d){b=$splat(b);var e=[];""!=b&&this.getConfigByName("getDefault",a,e,function(){this.setConfigByName(a,e,b,c,d)})},setConfigByName:function(a,b,c,d,e){c=$splat(c),b=$splat(b),e="string"===$type(e)?this.displayResult.bind(this,e):e;var f=[];""!=c&&this.getConfigByName("getConfig",a,f,function(){b=this._CombinConfig(b,f,c,d),this.setConfig(a,b,e)})},displayResult:function(a,b){checkPostResult(b)?remarkDisplay(a,tl("com_msg.Save succeeded"),3e3,0):remarkDisplay(a,tl("com_msg.Save failed"),3e3,1)},getConfigByName:function(a,b,c,d){this[a](b,function(a,b){b.result&&(c.combine(b.params.table||[]),"function"==typeof d&&d.call(this))})},_CombinConfig:function(a,b,c,d){var e=function(a){var b=[];for(var c in a)b=b.concat(a[c]);return b},f=a.toJsonKey(d),g=b.toJsonKey(d);return c.each(function(a){delete g[a];for(var b in f)b!=a&&delete f[b]}),f=$merge(f,g),e(f)}}),LogService=new Class({Extends:RPCCall,getSummary:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "log.getSummary","session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},getLogToken:function(a,b,c){var d=this.getRequest("log.startFind",'{"condition":'+a+"}");this.sendRequest(d,b,c)},doFind:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("log.doFind",'{"token":'+a+',"count":'+b+"}"),this.sendRequest(e,c,d)},stopFind:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("log.stopFind",'{"token":'+a+"}"),this.sendRequest(d,b,c)},clear:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "log.clear","session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},getCaps:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("log.getCaps",'""'),this.sendRequest(c,a,b)},doSeekFind:function(a,b,c,d,e,f){void 0==e&&(e=!0);var g;g=this.getRequest("log.doSeekFind",'{"token":'+a+',"offset":'+b+',"count":'+c+"}"),this.sendRequest(g,d,e,void 0,f)},getCount:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("log.getCount",'{"token":'+a+"}"),this.sendRequest(d,b,c)}}),EventManager=new Class({Extends:RPCCall,instance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("eventManager.factory.instance",'""'),this.sendRequest(c,a,b)},getCaps:function(a,b){this.action([],"eventManager.getCaps",'""',a,b)},destroy:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("eventManager.destroy",'""',b),this.sendRequest(d,a,c)},attachEvent:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("eventManager.attach",'{"codes":'+JSON.encode(a)+"}"),this.sendRequest(d,b,c)},detachEvent:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("eventManager.detach",'{"SID":'+a+',"codes":'+JSON.encode(b)+"}"),this.sendRequest(e,c,d)},confirmEvent:function(a,b,c,d,e,f){void 0==f&&(f=!0);var g;g=this.getRequest("eventManager.confirmEvent",'{"code" : "'+c+'","index" : '+d+',"name" : "'+e+'"}',b),this.sendRequest(g,a,f)}}),UserManager=new Class({Extends:RPCCall,getAuthorityList:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.getAuthorityList",'""'),this.sendRequest(c,a,b)},addGroup:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("userManager.addGroup",'{"group":'+JSON.encode(a)+"}"),this.sendRequest(d,b,c)},deleteGroup:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("userManager.deleteGroup",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},modifyGroup:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("userManager.modifyGroup",'{"name":"'+a+'","group":'+JSON.encode(b)+"}"),this.sendRequest(e,c,d)},getGroupInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("userManager.getGroupInfo",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getGroupInfoAll:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.getGroupInfoAll",'""'),this.sendRequest(c,a,b)},addUser:function(a,b,c){void 0==c&&(c=!0),b=b||$empty;var d=EncryptSecurity.instance(),e={user:a},f=JSON.encode(e);if(top.Ability.encryptInfo.pub)return void d.addUser(e,b.bind(this),c);var g;g=this.getRequest("userManager.addUser",f),this.sendRequest(g,b,c)},deleteUser:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("userManager.deleteUser",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},modifyUser:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("userManager.modifyUser",'{"name":"'+a+'","user":'+JSON.encode(b)+"}"),this.sendRequest(e,c,d)},modifyPwd:function(a,b,c,d,e){"Default"==top.Global.instance().getManageEncryption().encryption?this._modifyPasswordByType(a,b,c,3,d,e):this._modifyPassword(a,b,c,d,e)},_modifyPassword:function(a,b,c,d,e){b=top.Global.instance().getManagePassword(a,b),c=top.Global.instance().getManagePassword(a,c),void 0==e&&(e=!0);var f;f=this.getRequest("userManager.modifyPassword",'{"name":"'+a+'", "pwd":"'+b+'", "pwdOld":"'+c+'"}'),this.sendRequest(f,d,e)},_modifyPasswordByType:function(a,b,c,d,e,f){e=e||$empty,b=top.Global.instance().getManagePassword(a,b),c=top.Global.instance().getManagePassword(a,c,!0);var g=EncryptSecurity.instance(),h={name:a,pwd:b,pwdOld:c,type:d},i=JSON.encode(h),j="";return top.Ability.encryptInfo.pub?void g.modifyPasswordByType(h,e.bind(this),f):(j=this.getRequest("userManager.modifyPasswordByType",i),void this.sendRequest(j,e,f))},getUserInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("userManager.getUserInfo",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getUserInfoAll:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.getUserInfoAll",'""'),this.sendRequest(c,a,b)},setDefault:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.getDefault",'""'),this.sendRequest(c,a,b)},saveFile:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.saveFile",'""'),this.sendRequest(c,a,b)},getActiveUserInfoAll:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("userManager.getActiveUserInfoAll",'""'),this.sendRequest(c,a,b)},getUserCaps:function(a,b,c){this.action(null,"userManager.getCaps",null,a,b,c)}}),MagicBox=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("magicBox.factory.instance");this.sendRequest(d,a,b,null,c)},getProductDef:function(a,b,c){void 0==c&&(c=!0);var d;if("array"==$type(a)){d=this.getRequest("magicBox.getProductDefinition",'{"name":"'+a[0]+'"}');for(var e=1;e<a.length;e++)d+=", "+this.getRequest("magicBox.getProductDefinition",'{"name":"'+a[e]+'"}');this.doMutiCall(d,b,c)}else d=this.getRequest("magicBox.getProductDefinition",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getProcessInfo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getProcessInfo",'""'),this.sendRequest(c,a,b)},getProcessInfoEx:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getProcessInfoEx",'""'),this.sendRequest(c,a,b)},getSerialNo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getSerialNo",'""'),this.sendRequest(c,a,b)},get2DCode:function(a,b,c,d){this.action(null,"magicBox.get2DCode",{type:a},b,c,d)},getSubModules:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getSubModules",'""'),this.sendRequest(c,a,b)},getDeviceClass:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getDeviceClass",'""'),this.sendRequest(c,a,b)},getDeviceType:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getDeviceType",'""'),this.sendRequest(c,a,b)},reboot:function(a,b,c){c?this.action([],"magicBox.reboot",{delay:c},a,b):this.action([],"magicBox.reboot","",a,b)},getSystemInfo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getSystemInfo",'""'),this.sendRequest(c,a,b)},getVideoChipType:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getVideoChipType",'""'),this.sendRequest(c,a,b)},getSoftwareVersion:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("magicBox.getSoftwareVersion",null):'{"method":"magicBox.getSoftwareVersion","params":"","target":"'+c+'","session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(d,a,b)},getHardwareVersion:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getHardwareVersion",null),this.sendRequest(c,a,b)},getCaps:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getCaps",null),this.sendRequest(c,a,b)},getMemoryInfo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getMemoryInfo",null),this.sendRequest(c,a,b)},getCPUUsage:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("magicBox.getCPUUsage",'{"index":'+a+"}"),this.sendRequest(d,b,c)},getMainBoardCount:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getMainBoardCount",null),this.sendRequest(c,a,b)},getDeviceSubClass:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("magicBox.getDeviceSubClass",'""'),this.sendRequest(c,a,b)}}),LogicDeviceManager=new Class({Extends:RPCCall,Implements:Events,getCameraAll:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("LogicDeviceManager.getCameraAll",'""'),this.sendRequest(c,a,b)},addCameraByDevice:function(a,b,c,d,e){void 0==e&&(e=!0);var f;f=this.getRequest("LogicDeviceManager.addCameraByDevice",'{"DeviceID":"'+b+'", "DeviceInfo":'+c+', "cameras":'+d+"}"),this.sendRequest(f,a,e)},addCameraByGroup:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("LogicDeviceManager.addCameraByGroup",'{"group":'+b+"}"),this.sendRequest(d,a,c)},setCamera:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("LogicDeviceManager.setCamera",'{"cameras":'+JSON.encode(b)+"}"),this.sendRequest(d,a,c)},getVideoInputChannels:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("LogicDeviceManager.getVideoInputChannels","null"),this.sendRequest(c,a,b)},getVideoOutputChannels:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("LogicDeviceManager.getVideoOutputChannels",'""'),this.sendRequest(c,a,b)},getVideoChannelsInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("LogicDeviceManager.getVideoChannelsInfo",'{"type":"'+a+'"}'),this.sendRequest(d,b,c)},getCamera:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("LogicDeviceManager.getCamera",'{"uniqueChannels":['+a+"]}"),this.sendRequest(d,b,c)},getCameraState:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("LogicDeviceManager.getCameraState",'{"uniqueChannels":['+a+"]}"),this.sendRequest(d,b,c)},getTypeChannel:function(a,b){this.getCameraAll(function(c,d){if(d.params)for(var e=d.params.camera||[],f=0,g=e.length;g>f;f++)e[f].Type==a&&b.call(this,e[f].Channel)},!0)}}),Upgrader=new Class({Extends:RPCCall,prepare:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("upgrader.prepare",'""'),this.sendRequest(c,a,b)},appendData:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("upgrader.appendData",'{"length":'+a+"}")+b,this.sendRequest(e,c,d)},getStatus:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("upgrader.getState",'""'),this.sendRequest(d,a,c,"/RPC2",b)},cancel:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("upgrader.cancel",'""'),this.sendRequest(c,a,b)},execute:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("upgrader.execute",'""'),this.sendRequest(c,a,b)},getChipList:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("upgrader.getChipList",'""'),this.sendRequest(c,a,b)},chooseChip:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("upgrader.chooseChip",'{"chip":"'+a+'"}'),this.sendRequest(d,b,c)},check:function(a,b){var c="";c=this.getRequest("upgrader.check",'""'),this.sendRequest(c,a,b)}}),RemoteUpgrader=new Class({Extends:RPCCall,selectDevList:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("RemoteUpgrader.selectDevList",JSON.encode(a)),this.sendRequest(e,b,d,"/RPC2",c)},getStatus:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("RemoteUpgrader.getAllStates",'""'),this.sendRequest(d,a,c,"/RPC2",b)},cancel:function(a,b){void 0==b&&(b=!0);var c,d=["ALL"];c=this.getRequest("RemoteUpgrader.cancel",'{"list":'+JSON.encode(d)+"}"),this.sendRequest(c,a,b)}}),VideoInput=new Class({Extends:RPCCall,Implements:Events,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,function(a,c){c.result&&(this.objID=c.result,b&&b(a,c)),this.fireEvent("endInstance")}.bind(this),c)},getVideoInStatus:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devVideoInput.getVideoInStatus","params":{"channel" : '+b+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,a,c)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.getCaps",'""',a),this.sendRequest(d,b,c)},getCapsEx:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.getCapsEx",'{"Name":"'+a+'"}',this.objID),this.sendRequest(d,b,c)},getFocusStatus:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.getFocusStatus",'""',a),this.sendRequest(d,b,c)},adjustFocus:function(a,b,c,d,e){void 0==e&&(e=!0);var f;f=this.getRequest("devVideoInput.adjustFocus",'{"focus" : '+b+', "zoom":'+c+" }",a),this.sendRequest(f,d,e)},autoFocus:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.autoFocus",'""',a),this.sendRequest(d,b,c)},getCoverType:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoInput.getCoverType",'""',a),this.sendRequest(d,b,c)},resetEQ:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("devVideoInput.resetEQ",'""',this.objID),this.sendRequest(c,a,b)}}),DevVideoOut=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoOutput.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},enumModes:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoOutput.enumModes",'""',a),this.sendRequest(d,b,c)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoOutput.getCaps",'""',a),this.sendRequest(d,b,c)},getCollect:function(){var a=0,b=this.getRequest("devVideoOutput.factory.getCollect"),c=function(b){JSON.decode(b).result&&(a=JSON.decode(b).params.channels-0)};return this.sendRequest(b,c,!1),a}}),DevVideoDetect=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);
var d;d=this.getRequest("devVideoDetect.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},destroy:function(a,b){void 0==b&&(b=!0);var c,d=function(){};c=this.getRequest("devVideoDetect.destroy",'""',a),this.sendRequest(c,d,b)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoDetect.getCaps",'""',a),this.sendRequest(d,b,c)}}),DevVideoEnc=new Class({Extends:RPCCall,instance:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("devVideoEncode.factory.instance",'{"channel":'+a+', "group":0, "stream":"'+b+'"}'),this.sendRequest(e,c,d)},destroy:function(a,b){void 0==b&&(b=!0);var c,d=function(){};c=this.getRequest("devVideoEncode.destroy",'""',a),this.sendRequest(c,d,b)},getChipType:function(a,b){this.action(["0","main"],"devVideoEncode.getChipType","",a,b)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devVideoEncode.getCaps",'""',a),this.sendRequest(d,b,c)},getVideoEncodeCaps:function(a,b,c,d){this.action([a,b],"devVideoEncode.getCaps",null,c,d)}}),DevAudioEnc=new Class({Extends:RPCCall,instance:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("devAudioEncode.factory.instance",'{"channel" : '+a+', "group":0, "stream":"'+b+'"}');this.sendRequest(e,c,d)},getCaps:function(a,b){this.action(["0","main"],"devAudioEncode.getCaps",null,a,b)}}),EncodeManager=new Class({Extends:RPCCall,instance:function(a,b,c){var d;d=this.getRequest("encode.factory.instance",null),this.sendRequest(d,a,b,void 0,c)},getConfigCaps:function(a,b,c){void 0==c&&(c=!0);var d,e=[];"[object Array]"!==Object.prototype.toString.call(a)?e[0]=a:e=a,d=this.getRequest("encode.getConfigCaps",'{"config":'+JSON.encode(e)+"}"),this.sendRequest(d,b,c)},getConfigCapsEx:function(a,b,c,d){void 0==d&&(d=!0);var e,f=[];"[object Array]"!==Object.prototype.toString.call(a)?f[0]=a:f=a,e=this.getRequest("encode.getConfigCaps",'{"channel":'+b+', "stream": "All", "config":'+JSON.encode(f)+"}"),this.sendRequest(e,c,d)},getCaps:function(a,b){this.action([],"encode.getCaps","",a,b)},getCapsSmartH264:function(a,b,c){var d={Compression:"H.264",Policy:0};this.action([],"encode.getSmartCaps",{channel:a,config:[d]},b,c)},saveMode:function(a,b,c,d){var e={mode:{Digital:a,Analog:b}};this.action([],"encode.saveMode",e,c,d)}}),AudioInput=new Class({Extends:RPCCall,getCollect:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("devAudioInput.factory.getCollect",'""'),this.sendRequest(c,a,b)}}),PtzCtrl=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("ptz.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},pztPostResult:function(a){var b=JSON.decode(a).result;b||alert(tl("com_msg.Please set PTZ protocol of this channel first!"))},sendPtzRequest:function(a,b,c,d,e,f,g){a?this.action([f],"ptz.start",{code:b,arg1:c,arg2:d,arg3:e},this.pztPostResult,g):this.action([f],"ptz.stop",{code:b,arg1:c,arg2:d,arg3:e},this.pztPostResult,g)},sendPtzRequestEx:function(a,b,c,d,e,f,g){var h,i='"code" : "'+b+'","arg1" : '+c+',"arg2" : '+d+',"arg3" : '+e;h=a?'{"method" : "ptz.start", "session" : '+this.getSessionID()+',"params" : {"channel" : '+f+", "+i+'},"id" : '+ID_REQUEST++ +"}":'{"method" : "ptz.stop", "session" : '+this.getSessionID()+',"params" : {"channel" : '+f+", "+i+'},"id" : '+ID_REQUEST++ +"}",void 0==g&&(g=!0),this.sendRequest(h,this.pztPostResult,g)},getProtocolList:function(a,b,c){void 0==b&&(b=!0);var d;d=this.getRequest("ptz.getProtocolList",'""',c),this.sendRequest(d,a,b)},getProtocol:function(a,b,c){void 0==b&&(b=!0);var d;d=this.getRequest("ptz.getProtocol",'""',c),this.sendRequest(d,a,b)},getCurrentProtocolCaps:function(a,b,c){void 0==b&&(b=0),void 0==c&&(c=!0);var d;d=this.getRequest("ptz.getCurrentProtocolCaps",'{"channel" : '+b+"}"),this.sendRequest(d,a,c)},getProtocolCaps:function(a,b,c){this.action([b],"ptz.getCurrentProtocolCaps","",a,c)}}),IDevIntelliTracker=new Class({Extends:RPCCall,markSceneMaxZoom:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devIntelliTracker.markSceneMaxZoom","params":{"scene":'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},markScene:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devIntelliTracker.markScene","params":{"scene":'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},gotoScene:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devIntelliTracker.gotoScene","params":{"scene":'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},markSceneLimit:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"method" : "devIntelliTracker.markSceneLimit","params":{"scene":'+a+', "type" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},gotoSceneLimit:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"method" : "devIntelliTracker.gotoSceneLimit","params":{"scene":'+a+', "type" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},start:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "devIntelliTracker.start","params":null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},stop:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "devIntelliTracker.stop","params":null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},trackObject:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"method" : "devIntelliTracker.trackObject","params":{"object":{"ObjectID":'+a+', "BoundingBox" : ['+b+']}},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)}}),VideoAnalyseDevice=new Class({Extends:RPCCall,instance:function(a,b,c,d,e){var f=this._requestString("devVideoAnalyse.factory.instance",{channel:a,service:b},null,null);this.sendRequest(f,c,d,null,e)},getVideoAnalyseCap:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devVideoAnalyse.getCaps","params":{"channel" : '+b+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,a,c)},getAnalyseCap:function(a,b,c,d,e){b=b||"alarm",this.action([a,b],"devVideoAnalyse.getCaps",null,c,d,e)},testCalibrateWithScreenPoints:function(a,b,c,d,e,f,g){void 0==f&&(f=!0),g=g||"alarm",this.action([a,g],"devVideoAnalyse.testCalibrateWithScreenPoints",{type:b,start:c,end:d},e,f,null)}}),Split=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("split.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("split.getCaps",'""',a),this.sendRequest(d,b,c)},getMode:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("split.getMode",'""',a),this.sendRequest(d,b,c)},setMode:function(a,b,c,d,e,f,g){void 0==g&&(g=!0);var h,i={displayType:b,mode:c,group:d,workMode:e};b||delete i.displayType,e||delete i.workMode,h=this.getRequest("split.setMode",JSON.encode(i),a),this.sendRequest(h,f,g)},destroy:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("split.destroy",'""',a),this.sendRequest(d,b,c)}}),CommPort=new Class({Extends:RPCCall,getProtocolList:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("commPort.getProtocolList",'""'),this.sendRequest(c,a,b)},getNumberOfPorts:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("commPort.getNumberOfPorts",'""'),this.sendRequest(c,a,b)}}),AlarmSubSystem=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("alarmSubSystem.factory.instance",{channel:a});this.sendRequest(d,b,c)},destroy:function(a){this.action([a],"alarmSubSystem.destroy")},getActiveStatus:function(a,b,c){this.action([a],"alarmSubSystem.getActiveStatus",null,b,c)},setActive:function(a,b,c,d){this.action([a],"alarmSubSystem.setActive",{active:b},c,d)}}),AlarmKeyboard=new Class({Extends:RPCCall,destroy:function(a,b){this.action([],"AlarmKeyboard.destroy",null,a,b)},getProtocolList:function(a,b){this.action([],"AlarmKeyboard.getProtocolList",null,a,b)}}),Alarm=new Class({Extends:RPCCall,instance:function(a,b){var c=this.getRequest("alarm.factory.instance");this.sendRequest(c,a,b)},getInState:function(a,b){this.action([],"alarm.getInState",'""',a,b)},getOutState:function(a,b){this.action([],"alarm.getOutState",'""',a,b)},setArmMode:function(a,b,c,d){var e={pwd:a,mode:b.mode,profile:b.profile};this.action([],"alarm.setArmMode",e,c,d)},setBypassMode:function(a,b,c,d,e,f){var g={pwd:a,mode:b,channels:{}};!1===d?g.channels.Extended=c:g.channels.Local=c,this.action([],"alarm.setBypassMode",g,e,f)},destroy:function(a){this.action([],"alarm.destroy",'""',a)},getBypassMode:function(a,b,c,d){var e={channels:{}};!1===b?e.channels.Extended=a:e.channels.Local=a,this.action([],"alarm.getBypassMode",e,c,d)},getChannelsState:function(a,b,c){var d={condition:{Type:a}};this.action([],"alarm.getChannelsState",d,b,c)},startAlarmBell:function(a,b,c){var d={channel:a};this.action([],"alarm.startAlarmBell",d,b,c)},stopAlarmBell:function(a,b,c){var d={channel:a};this.action([],"alarm.stopAlarmBell",d,b,c)},getActivateDefenceArea:function(a,b,c){var d={count:a};this.action([],"alarm.getActivateDefenceArea",d,b,c)},getAlarmCaps:function(a,b){this.action([],"alarm.getAlarmCaps",null,a,b)}}),MediaFileFind=new Class({Extends:RPCCall,findFile:function(a,b,c,d){void 0===d&&(d=!0),"string"!=typeof a&&(a=JSON.encode(a));var e;e=this.getRequest("mediaFileFind.findFile",'{"condition":'+a+"}",c),this.sendRequest(e,b,d)},findNextFile:function(a,b,c,d,e){void 0===d&&(d=!0);var f;f=this.getRequest("mediaFileFind.findNextFile",'{"count":'+b+"}",a),this.sendRequest(f,c,d,"/RPC2",e)},close:function(a,b,c){void 0===c&&(c=!0);var d;d=this.getRequest("mediaFileFind.close",'{"this":'+a+"}",a),this.sendRequest(d,b,c)},creat:function(a,b){void 0===b&&(b=!0);var c;c=this.getRequest("mediaFileFind.factory.create"),this.sendRequest(c,a,b)},destroy:function(a,b,c){void 0===c&&(c=!0);var d;d=this.getRequest("mediaFileFind.destroy",null,a),sendRequest(d,b,c)},getCount:function(a,b,c){void 0===c&&(c=!0);var d;d=this.getRequest("mediaFileFind.getCount",'""',a),this.sendRequest(d,b,c)},findLockedVideo:function(a,b,c,d,e){var f={Channel:a,StartTime:b,EndTime:c,Flags:["Mark"]},g=[],h=this;this.creat(function(a){var b=JSON.decode(a).result,c=function(a){var c=JSON.decode(a);if(c.result)for(var f=!0;f;)h.findNextFile(b,e,function(a){var b=JSON.decode(a);if(b.result){g=[];var c=b.params;c.found<e&&(f=!1),g=c.infos,d(g)}else f=!1},!1,function(){f=!1});else d(g)};0!==b?h.findFile(f,c,b,!0):d(g)},!0)},findFiles:function(a,b,c){var d=this;d.creat(function(e,f){if(f.result){var g=f.result;d.findFile(a,function(a,e){var f={result:!0,params:{records:[]}};if(e.result){var h=c;!function i(){c>h?b(JSON.encode(f),f):d.findNextFile(g,c,function(a,b){b.result&&b.params&&b.params.found?(h=b.params.found,f.params.records.combine(b.params.infos)):h=0,i()})}()}else b(JSON.encode(f),f)},g)}else b(e,f)})}}),StorageDev=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("storage.factory.instance");this.sendRequest(d,a,b,null,c)},getDeviceNames:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "storage.getDeviceNames","params":null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},getDeviceNamesEx:function(a,b){this.action([],"storage.getDeviceNames","",a,b)},getGroupNames:function(a,b){void 0==b&&(b=!0);var c;c='{"method" : "storage.getGroupNames","params":null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},getDevPnt:function(a){var b,c='{"method" : "storage.getDevice","params":{"name":"'+a+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",d=function(a){b=JSON.decode(a).result};return this.sendRequest(c,d,!1),b},getDirectory:function(a){var b,c='{"method" : "storage.getDirectory","params":{"path":"'+a+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",d=function(a){b=JSON.decode(a).result};return this.sendRequest(c,d,!1),b},getiSCSITargets:function(a,b,c,d,e,f){void 0==f&&(f=!0);var g;g='{"method" : "storage.getiSCSITargets","params":{"Address":"'+a+'","Port":'+b+',"UserName":"'+c+'","Password":"'+d+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(g,e,f)},getCaps:function(a,b,c){void 0==c&&(c=!0);var d,d=this.getRequest("storage.getCaps",'""',a);this.sendRequest(d,b,c)},getStorageCpas:function(a,b,c){this.action([],"storage.getCaps","",a,b,c)},isGroupFull:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "storage.isGroupFull","params":{"group":"'+a+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getCurrentDirectory:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "storage.getCurrentDirectory","params" : {"group" : "'+a+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getDeviceInfo:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "devStorage.getDeviceInfo","params" : {"pointer" : '+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getDeviceInfoEx:function(a,b,c){void 0==c&&(c=!0);var d;d='{"object":'+a+',"method" : "devStorage.getDeviceInfo","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getCollect:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("devStorage.factory.getCollect",'""'),this.sendRequest(c,a,b)},devStorageInstance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devStorage.factory.instance",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},releaseDevice:function(a){var b=function(){};json_string='{"method" : "devStorage.releaseDevice","params":{"pointer":'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(json_string,b,!1)},deletePartition:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "devStorage.deletePartition","params" : {"part" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},destroy:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devStorage.destroy",'""',a),this.sendRequest(d,b,c)},releaseDirectory:function(a){var b=function(){};json_string='{"method" : "workDirectory.releaseDirectory","params":{"pointer":'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(json_string,b,!1)},getCapacity:function(a){var b=[],c='{"method" : "workDirectory.getFreeSpace","params" : {"pointer" :'+a+'},"session":'+this.getSessionID()+',"id" :'+ID_REQUEST++ +"}",d='{"method" : "workDirectory.getTotalSpace","params" : {"pointer" :'+a+'},"session":'+this.getSessionID()+',"id" :'+ID_REQUEST++ +"}",e=function(a){b[0]=JSON.decode(a).result?JSON.decode(a).params.totalSpace:0},f=function(a){b[1]=JSON.decode(a).result?JSON.decode(a).params.freeSpace:0};return this.sendRequest(d,e,!1),this.sendRequest(c,f,!1),b},startRecord:function(){var a='{"method" : "recordManager.start","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",b='{"method" : "snapManager.start","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",c=function(){};this.sendRequest(a,c,!1),this.sendRequest(b,c,!1)},stopRecord:function(){var a='{"method" : "recordManager.stop","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",b='{"method" : "snapManager.stop","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",c=function(){};this.sendRequest(a,c,!1),this.sendRequest(b,c,!1)},formatPatition:function(a,b){this.stopRecord();var c,d='{"method" : "devStorage.formatPatition","params" : {"pointer" : '+a+',"part" : '+b+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",e=function(a){c=JSON.decode(a).result};return this.sendRequest(d,e,!1),this.startRecord(),c},formatPatitionEx:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("devStorage.formatPatition",'{"part" : "'+b+'", "fs" : "FAT32"}',a);this.sendRequest(e,c,d)},eject:function(a){var b,c='{"method" : "devStorage.eject","params" : {"pointer" : '+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",d=function(a){b=JSON.decode(a).result};return this.sendRequest(c,d,!1),b},setType:function(a,b){var c,d='{"method" : "workDirectory.setType","params":{"pointer":'+a+',"type":"'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",e=function(a){c=JSON.decode(a).result};return this.sendRequest(d,e,!1),c},getType:function(a){var b,c='{"method" : "workDirectory.getType","params":{"pointer" :'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",d=function(a){b=JSON.decode(a).result};return this.sendRequest(c,d,!1),b},isError:function(a){var b='{"method" : "workDirectory.isError","params" : {"pointer" :'+a+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",c=!1,d=function(a){c=JSON.decode(a).result};return this.sendRequest(b,d,!1),c},preciseMarkFile:function(a,b,c){void 0==c&&(c=!0),"string"!=typeof a&&(a=JSON.encode(a));var d;d=this.getRequest("storage.preciseMarkFile",'{"info":'+a+"}"),this.sendRequest(d,b,c)}}),WorkGroup=new Class({Extends:RPCCall,instance:function(a,b,c){void 0===c&&(c=!0);var d;d='{"method" : "workGroup.factory.instance","params" :{"name":"'+a+'"}, "session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},instanceAll:function(a,b,c){void 0===c&&(c=!0);var d;d='{"method" : "workGroup.factory.instance","params" :{"name":"'+a[0]+'"}, "session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}";for(var e=1;e<a.length;e++)d+=', {"method":"workGroup.factory.instance","params":{"name":"'+a[e]+'"},"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}";this.doMutiCall(d,b,c)},getDirectories:function(a,b,c){void 0===c&&(c=!0);var d;d='{"object":'+a+',"method":"workGroup.getDirectories","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getDirectoriesAll:function(a,b,c){void 0==c&&(c=!0);var d;d='{"object":'+a[0]+',"method":"workGroup.getDirectories","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}";for(var e=1;e<a.length;e++)d+=', {"object":'+a[e]+',"method":"workGroup.getDirectories","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}";this.doMutiCall(d,b,c)},getCollect:function(a,b){this.action(null,"workGroup.factory.getCollect","",a,b)},setMembers:function(a,b,c,d){void 0===d&&(d=!0);var e;e='{"object":'+a+',"method":"workGroup.setMembers","params":{"directories": '+JSON.encode(b)+'},"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getFreeSpace:function(a,b,c){void 0===c&&(c=!0);var d;d='{"object":'+a+',"method":"workGroup.getFreeSpace","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getTotalSpace:function(a,b,c){void 0===c&&(c=!0);var d;d='{"object":'+a+',"method":"workGroup.getTotalSpace","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},modify:function(a,b,c,d){void 0===d&&(d=!0);var e;e='{"object":'+a+',"method":"workGroup.modify","params":{"info": '+JSON.encode(b)+'},"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getInfo:function(a,b,c){void 0===c&&(c=!0);var d;d='{"object":'+a+',"method":"workGroup.getInfo","params":null,"session":'+this.getSessionID()+',"id":'+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getInfoEx:function(a,b,c){this.action([a],"workGroup.getInfo","",b,c)}}),ChannelNumInfo=new Class({Extends:RPCCall,getChannelNO:function(){var a=0,b=this.getRequest("devVideoInput.getChannels"),c=function(b){a=JSON.decode(b).result-0};return this.sendRequest(b,c,!1),a},getAlarmIN:function(){var a=0,b=this.getRequest("alarm.getInSlots"),c=function(b){a=JSON.decode(b).params.inputs-0};return this.sendRequest(b,c,!1),a},getAlarmOUT:function(){var a=0,b=this.getRequest("alarm.getOutSlots"),c=function(b){a=JSON.decode(b).params.outputs-0};return this.sendRequest(b,c,!1),a}}),NASDirectory=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("NASDirectory.factory.instance",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},destroy:function(a,b,c){this.action([a],"NASDirectory.destroy","",b,c)},getInfo:function(a,b,c){this.action([a],"NASDirectory.getInfo","",b,c)},getFreeSpace:function(a,b,c){this.action([a],"NASDirectory.getFreeSpace","",b,c)},getTotalSpace:function(a,b,c){this.action([a],"NASDirectory.getTotalSpace","",b,c)},modify:function(a,b,c,d){this.action([a],"NASDirectory.modify",{info:b},c,d)}}),WorkDirectory=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("workDirectory.factory.instance",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},getInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("workDirectory.getInfo",'""',a),this.sendRequest(d,b,c)},getInfoEx:function(a,b,c){this.action([a],"workDirectory.getInfo","",b,c)},getLVInfo:function(a,b,c){c=c||!0;var d;d=this.getRequest("workDirectory.getLVInfo",'""',a),this.sendRequest(d,b,c)},getBitmap:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "workDirectory.getBitmap","params" : '+b+',"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getBitmapEx:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "workDirectory.getBitmapEx","params" : '+b+',"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getFreeSpace:function(a,b,c){void 0==c&&(c=!0);var d;d='{"object":'+a+',"method" : "workDirectory.getFreeSpace","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getTotalSpace:function(a,b,c){void 0==c&&(c=!0);var d;d='{"object":'+a+',"method" : "workDirectory.getTotalSpace","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getBoundTime:function(a,b,c){void 0==c&&(c=!0);var d;d='{"object":'+a+',"method" : "workDirectory.getBoundTime","params" : {"type" : null},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getBadBlock:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "devStorage.getBadBlock","params" : {"part" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},destroy:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("workDirectory.destroy",'""',a),this.sendRequest(d,b,c)},setGroup:function(a,b,c,d){void 0==d&&(d=function(){}),void 0==c&&(c=!0),json_string='{"object":'+a+',"method" : "workDirectory.setGroup","params":{"group":"'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(json_string,d,c)},setGroupEx:function(a,b,c,d){this.action([a],"workDirectory.setGroup",{group:b},c,d)},getGroup:function(a,b,c){void 0==c&&(c=!0),json_string=this.getRequest("workDirectory.getGroup",'""',a),this.sendRequest(json_string,b,c)},modify:function(a,b,c){var d=this.getRequest("workDirectory.modify",JSON.encode({info:b}),a);this.sendRequest(d,c,!0)}}),NetApp=new Class({Extends:RPCCall,getNetInterfaces:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.getNetInterfaces",'""'):this.getRequest("netApp.getNetInterfaces",'""',c),this.sendRequest(d,a,b)},instance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.factory.instance",'""'),this.sendRequest(c,a,b)},destroy:function(a,b,c){void 0==b&&(b=!0);var d;d=this.getRequest("netApp.destroy",'""',c),this.sendRequest(d,a,b)},getUPnPStatus:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.getUPnPStatus",'""'):this.getRequest("netApp.getUPnPStatus",'""',c),this.sendRequest(d,a,b)},refreshUpnpRouter:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.refreshUpnpRouter",'""'):this.getRequest("netApp.refreshUpnpRouter",'""',c),this.sendRequest(d,a,b)},sendTestMail:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.sendTestMail",'""'):this.getRequest("netApp.sendTestMail",'""',c),this.sendRequest(d,a,b)},adjustTimeWithNTP:function(a,b,c,d,e,f){this.action([],"netApp.adjustTimeWithNTP",{Address:a,Port:b,TimeZone:c},d,e,f)},getRemoteDeviceStatus:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.getRemoteDeviceStatus",'""'):this.getRequest("netApp.getRemoteDeviceStatus",'""',c),this.sendRequest(d,a,b)},getPppoeIp:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getPppoeIp",'""'),this.sendRequest(c,a,b)},getPppoeDns:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getPppoeDns",'""'),this.sendRequest(c,a,b)},getPppoeState:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getPppoeState",'""'),this.sendRequest(c,a,b)},getMobileInterfaces:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getMobileInterfaces",'""'),this.sendRequest(c,a,b)},getMobileRSSI:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getMobileRSSI",'{"Name": "3G"}'),this.sendRequest(c,a,b)},getDialInfo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getDialInfo",'{"Name": "3G"}'),this.sendRequest(c,a,b)},scanWLanDevices:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.scanWLanDevices",'{"Name": "eth2"}'),this.sendRequest(c,a,b)},getAPClient:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getAPClient",'{"SSID": "dahua"}'),this.sendRequest(c,a,b)},getCaps:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("netApp.getCaps",'""'):this.getRequest("netApp.getCaps",'""',c),this.sendRequest(d,a,b)},getNetDataState:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("netApp.getNetDataStat",'{"Name":"'+a+'"}'),this.sendRequest(d,b,c)},getVPNInfo:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("netApp.getVPNInfo",'""'),this.sendRequest(c,a,b)}}),StorageDVR=new Class({Extends:RPCCall,getCollect:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("workDirectory.factory.getCollect",'""'),this.sendRequest(c,a,b)},getDirectoryPaths:function(a,b){void 0==b&&(b=!0);var c=this;c.storageInstance(function(d,e){e.result&&c.sendRequest(c.getRequest("storage.getDirectoryPaths",'""'),a,b)},b)},instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("workDirectory.factory.instance",'{"name" : "'+a+'"}'),this.sendRequest(d,b,c)},getInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("workDirectory.getInfo",'""',a),this.sendRequest(d,b,c)},setGroup:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("workDirectory.setGroup",'{"group" : "'+a+'"}',b),this.sendRequest(e,c,d)},formatDisk:function(a,b,c,d,e){void 0==c&&(c=!0),void 0==d&&(d="");var f;f=void 0==e?this.getRequest("devStorage.formatPatition",'{"fs":"'+d+'"}',a):this.getRequest("devStorage.formatPatition",'{"part":"'+e+'", "fs":"'+d+'"}',a),this.sendRequest(f,b,c)},storageInstance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("storage.factory.instance",'""'),this.sendRequest(c,a,b)},getPortInfo:function(a,b){void 0==b&&(b=!0);var c;this.storageInstance(function(a,b){b.result&&(c=b.result)},!1);var d;d=this.getRequest("storage.getPortInfo",'""',c),this.sendRequest(d,a,b)},testNAS:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("storage.testNAS",'{"NAS" : '+JSON.encode(a)+"}"),this.sendRequest(d,b,c)}}),DDNSClient=new Class({Extends:RPCCall,testHostName:function(a,b,c,d,e,f,g,h){var i,j={Protocol:a,Address:b,Port:c,HostName:d,UserName:e,Password:f};i=this.getRequest("ddnsClient.testHostName",JSON.encode(j)),this.sendRequest(i,g,h)},getStatus:function(a,b,c){void 0==b&&(b=!0);var d;d=void 0==c?this.getRequest("ddnsClient.getStatus",'""'):this.getRequest("ddnsClient.getStatus",'""',c),this.sendRequest(d,a,b)},getDomainNames:function(a,b,c,d,e){var f={ddnsInfo:{Protocol:a,Address:b,Port:c}};this.action(null,"ddnsClient.getDomainNames",f,d,e)}}),HighAvailability=new Class({Extends:RPCCall,instance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("HighAvailability.factory.instance",'""'),this.sendRequest(c,a,b)},destroy:function(a,b,c){void 0==b&&(b=!0);var d;d=this.getRequest("HighAvailability.destroy",'""',c),this.sendRequest(d,a,b)},startService:function(a,b,c,d){void 0==c&&(c=!0);var e;e=this.getRequest("HighAvailability.startService","{"+a+"}",d),this.sendRequest(e,b,c)},stopService:function(a,b,c,d){void 0==c&&(c=!0);var e;e=this.getRequest("HighAvailability.stopService","{"+a+"}",d),this.sendRequest(e,b,c)},getServiceState:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("HighAvailability.getServiceState","{"+a+"}"),this.sendRequest(d,b,c)}}),DevStorageManager=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("StorageDeviceManager.factory.instance");this.sendRequest(d,a,b,null,c)},getDeviceList:function(a,b,c){this.action([],"StorageDeviceManager.getDeviceList",{volume:a},b,c)},getDeviceInfos:function(a,b,c){this.action([],"StorageDeviceManager.getDeviceInfos",{volume:a},b,c)},destroy:function(a,b){this.action([],"StorageDeviceManager.factory.destroy","",a,b)}}),DevInfoManager=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devStorage.factory.instance",'{"name" : "'+a+'"}'),this.sendRequest(d,b,c)},getSmartInfo:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devStorage.getSmartValue",'""',a),this.sendRequest(d,b,c)},getSmartInfoEx:function(a,b,c){this.action([a],"devStorage.getSmartValue","",b,c)},getDeviceInfo:function(a,b,c){this.action([a],"devStorage.getDeviceInfo","",b,c)},formatPatition:function(a,b,c,d,e){void 0==d&&(d=""),void 0==e&&(e=""),this.action([a],"devStorage.formatPatition",{part:e,fs:d},b,c)},getBadBlock:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "devStorage.getBadBlock","params" : {"part" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getRaidSubdiskinfo:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "devStorage.getRaidSubDeviceInfos","params" : {"raid" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},getRaidSubdisksmartinfo:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object":'+a+',"method" : "devStorage.getRaidSubSmartInfos","params" : {"raid" : "'+b+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},setAsHotSpare:function(a,b,c,d,e,f){void 0==f&&(f=!0);var g;g='{"object":'+a+',"method" : "devStorage.setAsHotSpare","params" : {"enable" : '+b+', "global":'+c+', "name":"'+d+'"},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(g,e,f)},setAsHotSpareEx:function(a,b,c,d,e,f){this.clearObject(),this.action([a],"devStorage.setAsHotSpare",{enable:b,global:c,name:d},e,f)},destroy:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("devStorage.destroy",'""',a),this.sendRequest(c,b)},getBoundTimeEx:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("storage.getBoundTimeEx",'""',a),this.sendRequest(d,b,c)}}),FileManager=new Class({Extends:RPCCall,instance:function(a,b){var c=this.getRequest("FileManager.factory.instance",'""');this.sendRequest(c,a,b)},createDirectory:function(a,b,c){this.action([],"FileManager.createDirectory",{name:a},b,c)},removeDirectory:function(a,b,c){this.action([],"FileManager.removeDirectory",{name:a},b,c)},rename:function(a,b,c,d){this.action([],"FileManager.rename",{oldName:a,newName:b},c,d)},list:function(a,b,c){this.action([],"FileManager.list",{path:a},b,c)},removeFiles:function(a,b,c){if(""!=a){"string"===$type(a)&&(a=[a]);var d={fileName:a};this.action([],"FileManager.removeFiles",d,b,c)}},getFileList:function(a,b,c){this.action([],"FileManager.getFileNames",{directory:a},b,c)},getFileNames:function(a,b,c){this.action([],"FileManager.getFileNames","",b,c)},getProperty:function(a,b,c){this.action([],"FileManager.getProperty",{directory:a},b,c)
}}),MobileManager=new Class({Extends:RPCCall,getAllSIMState:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("mobileManager.getAllSIMState",'""'),this.sendRequest(c,a,b)}}),RemoteDeviceManager=new Class({Extends:RPCCall,instance:function(a,b){var c='{"subClassID":"", "method" : "RemoteDeviceManager.factory.instance","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}";this.sendRequest(c,a,b)},getCaps:function(a,b){this.action([],"RemoteDeviceManager.getCaps",'""',a,b)}}),Mobile=new Class({Extends:RPCCall,instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("mobile.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},destroy:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("mobile.destroy",null),this.sendRequest(d,b,c)},getIMSI:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("mobile.getIMSI",null,a),this.sendRequest(d,b,c)}}),CommDevice=new Class({Extends:RPCCall,getCaps:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devComm.getCaps",'""',a),this.sendRequest(d,b,c)},instance:function(a,b,c){void 0==c&&(c=!0);var d;d=this.getRequest("devComm.factory.instance",'{"channel":'+a+"}"),this.sendRequest(d,b,c)},destroy:function(a,b){void 0==b&&(b=!0);var c,d=function(){};c=this.getRequest("devComm.destroy",'""',a),this.sendRequest(c,d,b)},getCollect:function(){var a=0,b=this.getRequest("devComm.factory.getCollect"),c=function(b){a=JSON.decode(b).params.channels-0};return this.sendRequest(b,c,!1),a}}),Security=new Class({Extends:RPCCall,instance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("Security.factory.instance",null),this.sendRequest(c,a,b)},destroy:function(a){void 0==asyn&&(asyn=!0);var b,c=function(){};b=this.getRequest("Security.destroy",null,a),this.sendRequest(b,c,asyn)},transferUKey:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("Security.transferUKey",'{"UKey":'+a+',"Info":'+b+"}",c);var f=function(){};this.sendRequest(e,f,d)}}),RemoteDevManager=new Class({Extends:RPCCall,instance:function(a,b){void 0==b&&(b=!0);var c;c='{"subClassID":"", "method" : "RemoteDeviceManager.factory.instance","params" : null,"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(c,a,b)},getDeviceInfo:function(a,b,c,d){void 0==d&&(d=!0);var e;e='{"object" : '+a+',"method" : "RemoteDeviceManager.getDeviceInfo","params" : {"device" : "", "attribute" : '+JSON.encode(b)+'},"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(e,c,d)},destroy:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("RemoteDeviceManager.destroy",'""',a),this.sendRequest(c,b)}}),DCSManager=new Class({Extends:RPCCall,getConfig:function(a,b,c){void 0==c&&(c=!0);var d;if("array"==$type(a)){d=this.getRequest("DCSManager.getConfig",'{"name":"'+a[0]+'"}');for(var e=1;e<a.length;e++)d+=", "+this.getRequest("DCSManager.getConfig",'{"name":"'+a[e]+'"}');this.doMutiCall(d,b,c)}else d=this.getRequest("DCSManager.getConfig",'{"name":"'+a+'"}'),this.sendRequest(d,b,c)},setConfig:function(a,b,c,d){void 0==d&&(d=!0);var e;if("array"==$type(a)){e=this.getRequest("DCSManager.setConfig",'{"name":"'+a[0]+'","table":'+JSON.encode(b[0])+',"options":""}');for(var f=1;f<a.length;f++)e+=", "+this.getRequest("DCSManager.setConfig",'{"name":"'+a[f]+'","table":'+JSON.encode(b[f])+',"options":""}');this.doMutiCall(e,c,d)}else e=this.getRequest("DCSManager.setConfig",'{"name":"'+a+'","table":'+JSON.encode(b)+',"options":""}'),this.sendRequest(e,c,d)},start:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.start",'""');this.sendRequest(c,a,b)},stop:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.stop",'""');this.sendRequest(c,a,b)},addDCSDevice:function(a,b,c,d,e,f,g,h){void 0==h&&(h=!0);var i={Address:d,Name:c,DeviceType:f,Port:e,UserName:a,Password:b,DCSPort:5005,DCSUserName:a,DCSPassword:b},j=this.getRequest("DCSManager.addDCSDevice",'{"info":'+JSON.encode(i)+"}");this.sendRequest(j,g,h)},delDCSDevice:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.delDCSDevice",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},getTaskInfoAll:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getTaskInfoAll",'""');this.sendRequest(c,a,b)},getTaskInfo:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.getTaskInfo",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},delTask:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("DCSManager.delTask",'{"device":"'+a+'","taskId":'+b+"}");this.sendRequest(e,c,d)},getWorkStatusAll:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getWorkStatusAll",'""');this.sendRequest(c,a,b)},getWorkStatus:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getWorkStatus",'""');this.sendRequest(c,a,b)},setWorkStatus:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.setWorkStatus","{"+a+"}");this.sendRequest(d,b,c)},reportWorkStatus:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.reportWorkStatus","{"+a+"}");this.sendRequest(d,b,c)},getSystemEvent:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getSystemEvent",'""');this.sendRequest(c,a,b)},startHostReplaceService:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.startHostReplaceService",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},startHostRestartService:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.startHostRestartService",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},RecordBackupRestore:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.RecordBackupRestore",'""');this.sendRequest(c,a,b)},startRecordBackupRestore:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.startRecordBackupRestore",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},cancelRecordBackupRestore:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("DCSManager.cancelRecordBackupRestore",'{"device":"'+a+'"}');this.sendRequest(d,b,c)},getReplaceInfo:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getReplaceInfo",'""');this.sendRequest(c,a,b)},createCluster:function(a,b,c,d){void 0==d&&(d=!0);var e={DCSDevices:a,DCSSystemEvent:b},f=this.getRequest("DCSManager.createCluster",'{"DCSConfig":'+JSON.encode(e)+"}");this.sendRequest(f,c,d)},deleteCluster:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.deleteCluster",'""');this.sendRequest(c,a,b)},addTask:function(a,b,c,d,e,f,g){void 0==g&&(g=!0);var h=this.getRequest("DCSManager.addTask",'{"DestDevice":"'+a+'","SrcDevice":"'+b+'","Channels":'+c+',"StartTime":"'+d+'","EndTime":"'+e+'"}');this.sendRequest(h,f,g)},setSpeed:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("DCSManager.setSpeed",'{"device":"'+a+'","speed":'+b+"}");this.sendRequest(e,c,d)}}),FileStream=new Class({Extends:RPCCall,create:function(a,b,c){void 0==c&&(c=!0);var d={condition:a},e=this.getRequest("fileStream.factory.create",JSON.encode(d));this.sendRequest(e,b,c)},setTags:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("fileStream.setTags",'{"tags":'+b+"}",a);this.sendRequest(e,c,d)},getTags:function(a,b,c){void 0==c&&(c=!0);var d=this.getRequest("fileStream.getTags",'""',a);this.sendRequest(d,b,c)},clearTags:function(a,b,c,d){void 0==d&&(d=!0);var e=this.getRequest("fileStream.clearTags",'{"tags":'+b+"}",a);this.sendRequest(e,c,d)}}),Player=new Class({Extends:RPCCall,open:function(a,b,c,d){void 0==d&&(d=!0);var e;e=this.getRequest("player.open",a,b),this.sendRequest(e,c,d)}}),FaceBorad=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("faceBoard.factory.instance");this.sendRequest(d,a,b,null,c)},getFanSpeed:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("faceBoard.getFanSpeed",null),this.sendRequest(c,a,b)},getTemperature:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("faceBoard.getTemperature",null),this.sendRequest(c,a,b)},getPowerState:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("faceBoard.getPowerState",'""'),this.sendRequest(c,a,b)},getCaps:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("faceBoard.getCaps",null),this.sendRequest(c,a,b)},getFanSpeedEx:function(a,b,c){this.action([],"faceBoard.getFanSpeedEx",{type:a},b,c)},getTemperatureEx:function(a,b,c){this.action([],"faceBoard.getTemperatureEx",{type:a},b,c)}}),RedundantPower=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("redundantPower.factory.instance");this.sendRequest(d,a,b,null,c)},destroy:function(){this.action([],"redundantPower.destroy")},getState:function(a,b){this.action([],"redundantPower.getState","",a,b)}}),DCSDoubleDevMgr=new Class({Extends:RPCCall,getConfig:function(a,b,c,d){void 0==d&&(d=!0);var e;if("array"==$type(a)){if(null!=b){e=this.getRequestEx("configManager.getConfig",'{"name":"'+a[0]+'"}',b);for(var f=1;f<a.length;f++)e+=", "+this.getRequestEx("configManager.getConfig",'{"name":"'+a[f]+'"}',b)}else{e=this.getRequest("configManager.getConfig",'{"name":"'+a[0]+'"}');for(var f=1;f<a.length;f++)e+=", "+this.getRequest("configManager.getConfig",'{"name":"'+a[f]+'"}')}this.doMutiCall(e,c,d)}else e=null!=b?this.getRequestEx("configManager.getConfig",'{"name":"'+a+'"}',b):this.getRequest("configManager.getConfig",'{"name":"'+a+'"}'),this.sendRequest(e,c,d)},setConfig:function(a,b,c,d,e){void 0==e&&(e=!0);var f;if("array"==$type(a)){if(null!=c){f=this.getRequestEx("configManager.setConfig",'{"name":"'+a[0]+'","table":'+JSON.encode(b[0])+',"options":""}',c);for(var g=1;g<a.length;g++)f+=", "+this.getRequestEx("configManager.setConfig",'{"name":"'+a[g]+'","table":'+JSON.encode(b[g])+',"options":""}',c)}else{f=this.getRequest("configManager.setConfig",'{"name":"'+a[0]+'","table":'+JSON.encode(b[0])+',"options":""}');for(var g=1;g<a.length;g++)f+=", "+this.getRequest("configManager.setConfig",'{"name":"'+a[g]+'","table":'+JSON.encode(b[g])+',"options":""}')}this.doMutiCall(f,d,e)}else f=null!=c?this.getRequestEx("configManager.setConfig",'{"name":"'+a+'","table":'+JSON.encode(b)+',"options":""}',c):this.getRequest("configManager.setConfig",'{"name":"'+a+'","table":'+JSON.encode(b)+',"options":""}'),this.sendRequest(f,d,e)},getDefault:function(a,b,c,d){void 0==d&&(d=!0);var e;if("array"==$type(a)){if(null!=b){e=this.getRequestEx("configManager.getDefault",'{"name":"'+a[0]+'"}',b);for(var f=1;f<a.length;f++)e+=", "+this.getRequestEx("configManager.getDefault",'{"name":"'+a[f]+'"}',b)}else{e=this.getRequest("configManager.getDefault",'{"name":"'+a[0]+'"}');for(var f=1;f<a.length;f++)e+=", "+this.getRequest("configManager.getDefault",'{"name":"'+a[f]+'"}')}this.doMutiCall(e,c,d)}else e=null!=b?this.getRequestEx("configManager.getDefault",'{"name":"'+a+'"}',b):this.getRequest("configManager.getDefault",'{"name":"'+a+'"}'),this.sendRequest(e,c,d)},getProductDef:function(a,b,c){void 0==c&&(c=!0);var d;if("array"==$type(a)){d=this.getRequestEx("magicBox.getProductDefinition",'{"name":"'+a[0]+'"}',"Slot1");for(var e=1;e<a.length;e++)d+=", "+this.getRequestEx("magicBox.getProductDefinition",'{"name":"'+a[e]+'"}',"Slot1");this.doMutiCall(d,b,c)}else d=this.getRequestEx("magicBox.getProductDefinition",'{"name":"'+a+'"}',"Slot1"),this.sendRequest(d,b,c)},reboot:function(a,b,c){void 0==b&&(b=!0),void 0==c&&(c=0);var d;d=this.getRequest("DCSDoubleDevMgr.reboot",'{"delay" : '+c+"}"),this.sendRequest(d,a,b)},getBoardState:function(a,b,c){void 0==c&&(c=!0);var d;d='{"method" : "DCSDoubleDevMgr.getBoardState","params" : null,"target":'+a+',"session":'+this.getSessionID()+',"id" : '+ID_REQUEST++ +"}",this.sendRequest(d,b,c)},getBoardStateEx:function(a,b){void 0==b&&(b=!0);var c=this.getRequest("DCSManager.getBoardState");this.sendRequest(c,a,b)}}),StorageMan=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("storage.factory.instance");this.sendRequest(d,a,b,null,c)},destroy:function(){this.action([],"storage.destroy",null)},getServerState:function(a,b){this.action([],"storage.getNASServerState",{protocol:a},function(c,d){d.protocol=a,b(d)})},setServerState:function(a,b,c){var d=function(a){b(JSON.decode(a))};switch(c){case 0:this.stopServer(a,d);break;case 1:this.startServer(a,d)}},startServer:function(a,b){this.action([],"storage.startNASServer",{protocol:a},b)},stopServer:function(a,b){this.action([],"storage.stopNASServer",{protocol:a},b)},addWorkGroup:function(a,b){this.action([],"storage.addWorkGroup",{info:a},b)},deleteWorkGroup:function(a,b){this.action([],"storage.deleteWorkGroup",{names:a},b)},deleteWorkDirectory:function(a,b){"string"==typeof a&&(a=[a]),this.action([],"storage.deleteWorkDirectory",{names:a},b)},addWorkDirectory:function(a,b){this.action([],"storage.addWorkDirectory",{info:a},b)},markFile:function(a,b,c){a.length>0&&this.action([],"storage.markFile",a,b,c)}}),LogicVolumeManager=new Class({Extends:RPCCall,instance:function(a,b,c){var d=this._requestString("LVM.factory.instance");this.sendRequest(d,a,b,null,c)},destroy:function(){this.action([],"LVM.destroy")},getNASServerStatus:function(a,b,c){this.action([],"LVM.getNASServerStatus",{protocol:a},b,c)},startNASServer:function(a,b,c){this.action([],"LVM.startNASServer",{protocol:a},b,c)},stopNASServer:function(a,b,c){this.action([],"LVM.stopNASServer",{protocol:a},b,c)},getInfo:function(a,b,c){this.action([],"LVM.getInfo",{name:a},b,c)},addWorkDirectory:function(a,b,c){this.action([],"LVM.addWorkDirectory",{info:a},b,c)},deleteWorkDirectory:function(a,b,c){this.action([],"LVM.deleteWorkDirectory",{names:a},b,c)},addWorkGroup:function(a,b,c){this.action([],"LVM.addWorkGroup",{info:a},b,c)},deleteWorkGroup:function(a,b,c){this.action([],"LVM.deleteWorkGroup",{names:a},b,c)},modify:function(a,b,c,d){this.action([],"LVM.modify",{name:a,info:b},c,d)}}),RecordMan=new Class({Extends:RPCCall,instance:function(a){var b=this.getRequest("recordManager.factory.instance",null);this.sendRequest(b,a,!1)},getCaps:function(a,b){this.action([],"recordManager.getCaps",null,a,b)}}),RaidManager=new Class({Extends:RPCCall,instance:function(a){var b=this.getRequest("RaidManager.factory.instance",null);this.sendRequest(b,a,!1)},getRaidCaps:function(a,b){this.action([],"RaidManager.getCaps","",a,b)},add:function(a,b){this.action([],"RaidManager.add",{list:a},b)},remove:function(a,b){this.action([],"RaidManager.remove",{names:a},b)},modify:function(a,b){this.action([],"RaidManager.modify",{list:a},b)},celerityRaid:function(a,b,c){this.action([],"RaidManager.celerityRaid",{names:a,level:b},c)},celerityRaidEx:function(a,b,c){this.action([],"RaidManager.celerityRaid",{list:{names:a,level:b}},c)},getSubDeviceInfos:function(a,b,c){this.action([],"RaidManager.getSubDeviceInfos",{raid:a},b,c)},getAllSubDeviceInfos:function(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push({raid:a[e]});this.action([],"RaidManager.getSubDeviceInfos",d,b,c)},getSubSmartInfos:function(a,b,c){this.action([],"RaidManager.getSubSmartInfos",{sub:a},b,c)},getProgress:function(a){this.action([],"RaidManager.getProgress",{"in":null},a)}}),Speak=new Class({Extends:RPCCall,instance:function(a){var b=this.getRequest("speak.factory.instance",null);this.sendRequest(b,a,!0)},getCaps:function(a,b){this.action([],"speak.getCaps",null,a,b)},startPlay:function(a,b,c){this.action([],"speak.startPlay",{path:a},b,c)},stopPlay:function(a,b){this.action([],"speak.stopPlay",null,a,b)}}),Nat=new Class({Extends:RPCCall,getTurnStatus:function(a,b,c){if("function"===$type(a))c=b,b=a,this.action([],"Nat.getTurnStatus",null,b,c);else{void 0==c&&(c=!0);var d;d=this.getRequest("Nat.getTurnStatus",'""',a),this.sendRequest(d,b,c)}},instance:function(a,b){void 0==b&&(b=!0);var c;c=this.getRequest("Nat.factory.instance",'""'),this.sendRequest(c,a,b)},destroy:function(a,b){void 0==b&&(b=!0);var c,d=function(){};c=this.getRequest("Nat.destroy",'""',a),this.sendRequest(c,d,b)}}),MediaManage=new Class({Extends:RPCCall,instance:function(a,b){var c=this.getRequest("MediaManager.factory.instance",null);this.sendRequest(c,a,b)},getCaps:function(a,b,c){"string"==typeof a&&(a=[a]),this.action([],"MediaManager.getCaps",{name:a},b,c)}}),videoGroup=new Class({Extends:RPCCall,instance:function(a){var b=this.getRequest("videoGroup.factory.instance",null);this.sendRequest(b,a,!1)},getCaps:function(a,b){this.action([],"videoGroup.getCaps",null,a,b)}}),DiskTank=new Class({Extends:RPCCall,instance:function(a){var b=this.getRequest("DiskTank.factory.instance",null);this.sendRequest(b,a,!1)},getInfo:function(a,b,c,d){this.action([],"DiskTank.getInfo",{layer:a,info:b},c,d)}}),IntervideoClient=new Class({Extends:RPCCall,instance:function(a,b,c){var d;d=this.getRequest("IntervideoClient.factory.instance",null),this.sendRequest(d,a,b,void 0,c)},getVersion:function(a,b,c){this.action([],"IntervideoClient.getVersion",{name:a},b,c)}}),BackupManager=new Class({Extends:RPCCall,instance:function(a,b){var c=this.getRequest("BackupManager.factory.instance",null);this.sendRequest(c,a,b)},oneKeyBackup:function(a,b,c,d){this.action([],"BackupManager.oneKeyBackup",{info:{Type:c||"USB",Channel:d||0}},a,b)}}),VideoInAnalyse=new Class({Extends:RPCCall,getAnalyseCaps:function(a,b,c,d){this.action(null,"VideoInAnalyse.getCaps",{channel:a},b,c,d)}}),IntervideoManager=new Class({Extends:RPCCall,getVersion:function(a,b,c,d){this.action(null,"IntervideoManager.getVersion",{Name:a},b,c,d)}}),Atm=new Class({Extends:RPCCall,getAtmProtocol:function(a,b,c){this.action(null,"atm.getProtocol",null,a,b,c)}}),Locales=new Class({Extends:RPCCall,getLocalCaps:function(a,b,c){this.action(null,"locales.getCaps",null,a,b,c)}}),DeviceDiscovery=new Class({Extends:RPCCall,allProtocol:["Onvif",""],instance:function(a,b,c){var d=JSON.decode(this.getRequest("deviceDiscovery.factory.instance",null));d.subClassID=a,this.sendRequest(JSON.encode(d),b,c)},attach:function(a){a=a||this.allProtocol,"array"!=$type(a)&&(a=[a]);for(var b=0,c=a.length;c>b;b++)this.action([a[b]],"deviceDiscovery.attach",{proc:1234})},detach:function(a){a=a||this.allProtocol,"array"!=$type(a)&&(a=[a]);for(var b=0,c=a.length;c>b;b++)this.action([a[b]],"deviceDiscovery.detach",{proc:1234})},start:function(a,b){b=b||this.allProtocol,"array"!=$type(b)&&(b=[b]);for(var c=0,d=b.length;d>c;c++)this.action([b[c]],"deviceDiscovery.start",{timeout:a})},setConfig:function(a,b,c,d,e,f,g,h){c="Onvif"===c?"Onvif":"",this.action(c,"deviceDiscovery.setConfig",{mac:a,username:d||"admin",password:e||"admin",devConfig:b},f,g,h)}}),Backup=new Class({Extends:RPCCall,getCaps:function(a){this.action(null,"Backup.getCaps",null,a,!0)}}),Cluster=new Class({Extends:RPCCall,getCaps:function(a,b){this.action(null,"cluster.getCaps",{name:a},b,!0)},getNodeName:function(a,b){this.action(null,"cluster.getNodeName",{nodeName:a},b,!0)}}),Integration=new Class({getComposeResolution:function(a){(new LogicDeviceManager).getTypeChannel("Compose",function(b){var c=ConfigManager.instance();c.getConfigEx("Encode",b,function(c,d){if(d.params.table){var e=EncodeManager.instance();e.getConfigCapsEx(d.params.table,b,function(b,c){c.params&&c.params.caps&&a(b,c)})}})})}}),EncryptSecurity=new Class({Extends:RPCCall,getEncryptInfo:function(a,b,c){this.action(null,"Security.getEncryptInfo",null,a,b,c)},getEncryptDog:function(a,b,c){this.action(null,"Security.getEncryptDog",null,a,b,c)},addUser:function(a,b,c,d){this._sendEncryption(a,"Security.addUser",b,c,d)},modifyPasswordByType:function(a,b,c,d){this._sendEncryption(a,"Security.modifyPasswordByType",b,c,d)},getConfig:function(a,b,c,d){var e=Encrypt.EncryptInfo(top.Ability.encryptInfo.pub,a);this.action(null,"Security.getConfig",{salt:e.salt,cipher:"AES-128",content:e.content},function(a,c){c.params=Encrypt.UnEncryptInfo(e.key,c.params.content),b(JSON.encode(c),c)},c,d)},setConfig:function(a,b,c,d){this._sendEncryption(a,"Security.setConfig",b,c,d)},_sendEncryption:function(a,b,c,d,e){void 0==d&&(d=!0),void 0==c&&(c=function(){}),void 0==e&&(e=function(){});var f=Encrypt.EncryptInfo(top.Ability.encryptInfo.pub,a);this.action(null,b,{salt:f.salt,cipher:"AES-128",content:f.content},c,d,e)}}),Encrypt=function(){return new function(){function a(b){b=b>16?16:b;var c=Math.random().toString();return"0"===c.substr(c.length-b,1)?a(b):c.substring(c.length-b)}this.EncryptInfo=function(b,c){var d={},b=b.split(","),e=b[0].split(":"),f=b[1].split(":");d[e[0]]=e[1],d[f[0]]=f[1];var g=a(16),h=new RSAKey;h.setPublic(d.N,d.E);var i=h.encrypt(g),j=CryptoJS.enc.Utf8.parse(g),k=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(JSON.encode(c)),j,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.ZeroPadding});return{salt:i,key:j,content:k.toString()}},this.UnEncryptInfo=function(a,b){var c=CryptoJS.AES.decrypt(b,a,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.ZeroPadding});return JSON.decode(CryptoJS.enc.Utf8.stringify(c))}}}(),DockUser=new Class({Extends:RPCCall,getUserInfoAll:function(a,b,c,d){this.action(null,"DockUser.getUserInfoAll",{protocol:a||"Onvif"},b,c,d)},addUser:function(a,b,c,d,e){var f={user:b};this._sendEncryption(a,f,"DockUser.addUser",c,d,e)},deleteUser:function(a,b,c,d,e){this.action(null,"DockUser.deleteUser",{protocol:b||"Onvif",name:a},c,d,e)},modifyUser:function(a,b,c,d,e,f){this.action(null,"DockUser.modifyUser",{protocol:c||"Onvif",name:a,user:b},d,e,f)},modifyPasswordByType:function(a,b,c,d,e,f,g){var h={name:b,pwd:c,pwdOld:d};this._sendEncryption(a,h,"DockUser.modifyPassword",e,f,g)},_sendEncryption:function(a,b,c,d,e,f){void 0==a&&(a="Onvif"),void 0==e&&(e=!0),void 0==d&&(d=function(){}),void 0==f&&(f=function(){});var g=Encrypt.EncryptInfo(top.Ability.encryptInfo.pub,b);this.action(null,c,{protocol:a,salt:g.salt,cipher:"AES-128",content:g.content},d,e,f)}}),CoaxialEQ=new Class({Extends:RPCCall,getCaps:function(a,b,c,d){this.action(null,"CoaxialEQ.getCaps",{channel:a},b,c,d)},getEQValue:function(a,b,c,d){this.action(null,"CoaxialEQ.getEQValue",{channel:a},b,c,d)},setEQValue:function(a,b,c,d,e){this.action(null,"CoaxialEQ.setEQValue",{channel:a,value:b},c,d,e)},getEQState:function(a,b,c,d){this.action(null,"CoaxialEQ.getEQState",{channel:a},b,c,d)},setEQState:function(a,b,c,d,e){this.action(null,"CoaxialEQ.setEQState",{channel:a,isLock:b},c,d,e)}});